!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=86)}([function(e){e.exports=require("react")},function(e){e.exports=require("prop-types")},function(e,t,n){"use strict";n.d(t,"E",function(){return a}),n.d(t,"F",function(){return r}),n.d(t,"D",function(){return o}),n.d(t,"P",function(){return i}),n.d(t,"N",function(){return s}),n.d(t,"O",function(){return l}),n.d(t,"M",function(){return c}),n.d(t,"T",function(){return d}),n.d(t,"Y",function(){return p}),n.d(t,"W",function(){return u}),n.d(t,"R",function(){return h}),n.d(t,"U",function(){return m}),n.d(t,"X",function(){return g}),n.d(t,"Q",function(){return b}),n.d(t,"S",function(){return f}),n.d(t,"p",function(){return v}),n.d(t,"t",function(){return y}),n.d(t,"r",function(){return _}),n.d(t,"n",function(){return E}),n.d(t,"q",function(){return x}),n.d(t,"s",function(){return w}),n.d(t,"m",function(){return k}),n.d(t,"o",function(){return S}),n.d(t,"x",function(){return T}),n.d(t,"B",function(){return C}),n.d(t,"z",function(){return O}),n.d(t,"v",function(){return A}),n.d(t,"y",function(){return N}),n.d(t,"A",function(){return L}),n.d(t,"u",function(){return j}),n.d(t,"w",function(){return D}),n.d(t,"C",function(){return I}),n.d(t,"j",function(){return R}),n.d(t,"l",function(){return F}),n.d(t,"i",function(){return U}),n.d(t,"g",function(){return q}),n.d(t,"k",function(){return B}),n.d(t,"h",function(){return M}),n.d(t,"d",function(){return P}),n.d(t,"f",function(){return z}),n.d(t,"a",function(){return V}),n.d(t,"c",function(){return G}),n.d(t,"e",function(){return W}),n.d(t,"b",function(){return $}),n.d(t,"J",function(){return H}),n.d(t,"L",function(){return Y}),n.d(t,"I",function(){return K}),n.d(t,"G",function(){return J}),n.d(t,"K",function(){return Q}),n.d(t,"H",function(){return X});const a="SETTINGS_SAVE",r="SETTINGS_UPDATE",o="SETTINGS_GET_INITIAL",i="UI_TAB_CHANGE",s="UI_NOTIFICATION_NEW",l="UI_NOTIFICATION_REMOVE",c="UI_CHECK_UPDATES_MESSAGE",d="USER_EDIT",p="USER_UPDATE",u="USER_SAVE",h="USER_DELETE",m="USER_GET_ALL",g="USER_SET_STATUS",b="USER_CONFIGS_SAVE",f="USER_DUPLICATE",v="CLIENT_EDIT",y="CLIENT_UPDATE",_="CLIENT_SAVE",E="CLIENT_DELETE",x="CLIENT_GET_ALL",w="CLIENT_SET_STATUS",k="CLIENT_CONFIGS_SAVE",S="CLIENT_DUPLICATE",T="MATERIAL_EDIT",C="MATERIAL_UPDATE",O="MATERIAL_SAVE",A="MATERIAL_DELETE",N="MATERIAL_GET_ALL",L="MATERIAL_SET_STATUS",j="MATERIAL_CONFIGS_SAVE",D="MATERIAL_DUPLICATE",I="QUOTE_NEW",R="ACCOMMODATION_DESTINATION_NEW",F="ACCOMMODATION_DESTINATION_UPDATE",U="ACCOMMODATION_DESTINATION_GET_ALL",q="ACCOMMODATION_DESTINATION_DELETE",B="ACCOMMODATION_DESTINATION_SET_STATUS",M="INVOICE_DUPLICATE",P="ACCOMMODATION_BOOKING_NEW",z="ACCOMMODATION_BOOKING_UPDATE",V="ACCOMMODATION_BOOKING_DELETE",G="ACCOMMODATION_BOOKING_GET_ALL",W="ACCOMMODATION_BOOKING_SET_STATUS",$="INVOICE_DUPLICATE",H="TRIP_BOOKING_NEW",Y="TRIP_BOOKING_UPDATE",K="TRIP_BOOKING_GET_ALL",J="TRIP_BOOKING_DELETE",Q="TRIP_BOOKING_SET_STATUS",X="INVOICE_DUPLICATE"},function(e){e.exports=require("styled-components")},function(e){e.exports=require("redux-actions")},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return s});var a=n(2),r=n(4);n.n(r);const o=Object(r.createAction)(a.P,e=>e),i=(Object(r.createAction)(a.M,(e,t)=>({content:e,type:t})),Object(r.createAction)(a.N,(e,t)=>({type:e,message:t}))),s=Object(r.createAction)(a.O,e=>e)},function(e,t,n){"use strict";n.d(t,"b",function(){return l});let a=null,r=null,o=0,i=0;const s=new class{constructor(){a=null,r={usr:"N/A",name:"N/A",firstname:"N/A",lastname:"N/A",cell:"N/A",tel:"N/A",email:"N/A",access_level:0},o=0,i=0}setSessionId(e){a=e}getSessionId(){return a}getSessionUser(){return r}setSessionUser(e){r=e}session_date(){}setSessionDate(e){o=e}session_ttl(){return i}setSessionTtl(e){i=e}};t.a=s;const l=s.getSessionUser},function(e){e.exports=require("electron")},function(e,t,n){"use strict";var a=n(2),r=n(5),o=(n(14),n(10)),i=n(6);const s=n(7),l=n(14),c=n(62),d=n(82);var p=class{constructor(e){this.database_name=e;const t=(s.app||s.remote.app).getAppPath();d(t+"/data/",n=>n?Object(o.a)("error",n.message):void(this.path=l.join(t+"/data/",e+".json"))),this.data={},(e=>new Promise((t,n)=>{console.log("attempting to read file from local fs"),c.readFile(e,(e,a)=>e?n(e):t(JSON.parse(a)))}))(this.path).then(e=>this.data=e).catch(e=>Object(o.a)("error",e.message))}get(e){return console.log("get all records from database [%s] collection [%s]",this.database_name,e),this.data[e]}getAll(){return console.log("get all collections and records from database: ",this.database_name),this.data[this.database_name]}update(e,t){if(!e)return Object(o.a)("error","invalid collection name");if(!t)return Object(o.a)("error","value to be updated is invalid.");const n=[];this.data[e].map(e=>{e._id==t._id?(Object(o.a)("verbose_info","found match to be updated"),n.push(t)):n.push(e)}),c.writeFileSync(this.path,JSON.stringify(n)),Object(o.a)("info","successfully updated record on local database ["+this.database_name+" > "+e+"]."),console.log("serialized collection [%s] to path [%s] \nwith data [%s]",e,this.path,this.data)}overwrite(e,t){this.data[e]=t,c.writeFileSync(this.path,JSON.stringify(this.data)),Object(o.a)("info","successfully overwrote local database ["+this.database_name+" > "+e+"]."),console.log("serialized collection [%s] to path [%s] \nwith data [%s]",e,this.path,this.data)}append(e,t){this.data[e].push(t),c.writeFileSync(this.path,JSON.stringify(this.data)),Object(o.a)("info","successfully persisted new record to local collection ["+this.database_name+"]."),console.log("serialized collection [%s] to path [%s] \nwith data [%s]",e,this.path,this.data)}};n.d(t,"g",function(){return h}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return g}),n.d(t,"f",function(){return b}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return v}),n.d(t,"a",function(){return y}),n.d(t,"i",function(){return _}),n.d(t,"h",function(){return E}),n.d(t,"k",function(){return x}),n.d(t,"j",function(){return w});const u=new p("counters"),h=new p("users"),m=new p("clients"),g=new p("materials"),b=new p("trip_bookings"),f=new p("accommodation_bookings"),v=new p("accommodation_destinations"),y=(e,t)=>new Promise((a,o)=>{const{HttpClient:i}=n(36);return i.put("/session",{},{headers:{usr:t.username,pwd:t.password,"Content-Type":"application/json"}}).then(n=>n?200==n.status?(a(n.data),void e(r.b("success","User ["+t.username+"] has successfully signed in."))):(o(new Error("Error: "+n.status)),e(r.b("danger","Error: "+n.status))):(o(new Error("Error: Could not get a valid response from the server.")),e(r.b("danger","Error: Could not get a valid response from the server.")))).catch(e=>{console.log(e),o(new Error("Invalid user credentials."))})}),_=(e,t,a,i,s)=>new Promise((t,l)=>{const{HttpClient:c}=n(36);Object(o.a)("verbose_info","querying local database for ["+s+"] records."),c.get("/timestamp/"+s+"_timestamp").then(n=>{if(200==n.status){if(console.log(">>####",n),n.data){const r=n.data,c=u.get(s+"_timestamp");return c&&c.count===r.count?k(i,s,e=>{if(e&&0<e.length)return Object(o.a)("info","found ["+e.length+"] local ["+s+"] records."),t(e)}):(Object(o.a)("info",">>>>>local "+s+" collection is not up-to-date with server, synchronizing..."),E(e,a,s,e=>{if(e){const n=e[s];if(n)return i.overwrite(s,n),u.overwrite(s+"_timestamp",r),t(n)}return Object(o.a)("warning","could not find any ["+s+"] in the remote database"),l(new Error("could not find any ["+s+"] in the remote database"),[])}))}return Object(o.a)("verbose_info","no local ["+s+"] records, attempting to load from remote server."),E(e,a,s,e=>{if(e){const n=e[s];if(n)return i.overwrite(s,n),t(n)}return Object(o.a)("warning","could not find any ["+s+"] in the remote database"),l(new Error("could not find any ["+s+"] in the remote database"),[])})}e(r.b("danger","Error "+n.status+": "+(n.statusText||n.data)))})}),E=e=>new Promise((t,a)=>{const{HttpClient:r}=n(36);return r.get(e,{headers:{"Content-Type":"application/json;",session_id:i.a.getSessionId()}}).then(e=>e?200==e.status?t(e):204==e.status?a(new Error("warning","Error ["+e.status+"]: No records were found in the database.")):401==e.status?a(new Error("Error ["+e.status+"]: You are not authorised to view these records.")):a(new Error("Error: "+e.status)):a(new Error("Error: Could not get a valid response from the server."))).catch(e=>a(e))}),x=(e,t,a,s,l)=>new Promise((c,d)=>{const{HttpClient:p}=n(36);return p.put(s,a,{headers:{"Content-Type":"application/json;",session_id:i.a.getSessionId()}}).then(n=>{if(!n)return d(new Error("Error: Could not get a valid response from the server.")),e(r.b("danger","Error: Could not get a valid response from the server."));if(200!=n.status)return 204==n.status?(Object(o.a)("error","Error ["+n.status+"]: No "+l+" were found in the database."),d(new Error("Error ["+n.status+"]: No "+l+" were found in the database."))):401==n.status?(d(new Error("Error ["+n.status+"]: You are not authorised to create "+l)),e(r.b("warning","Error ["+n.status+"]: You are not authorised to create "+l))):(d(new Error("Error: "+n.status)),e(r.b("danger","Error: "+n.status)));if(c(n.data),3!==a.status&&e(r.b("success","Successfully added a new record to "+l+" collection.")),t){Object(o.a)("verbose_info","new "+l+" object _id: "+n.data);const e=n.data;t.append(l,Object.assign(a,{_id:e}))}else Object(o.a)("warning","no db collection specified, not committing to local store, assuming you're taking care of this elsewhere.")}).catch(e=>d(e))}),w=(e,t,s,l,c)=>new Promise((d,p)=>{if(!s)return e(r.b("danger","Invalid "+c+" resource to be updated.")),p(new Error("Invalid "+c+" resource to be updated."));const{HttpClient:u}=n(36);return u.post(l,s,{headers:{"Content-Type":"application/json;",session_id:i.a.getSessionId()}}).then(n=>{n?200==n.status?(e(r.b("success","Successfully updated "+c)),n.data,t?(Object(o.a)("info","successfully updated record on remote collection, updating local collection ["+c+"]."),t.update(c,s),k(t,c,(e,t)=>t?(Object(o.a)("error",t),p(t)):void d(e))):(Object(o.a)("warning","no db collection specified, not updating local store, assuming you're taking care of this elsewhere."),d(n))):204==n.status?(p(new Error("Error ["+n.status+"]: No "+c+" were found in the database.")),e(r.b("warning","Error ["+n.status+"]: No "+c+" were found in the database."))):401==n.status?(p(new Error("Error ["+n.status+"]: You are not authorised to make changes to "+c)),e(r.b("warning","Error ["+n.status+"]: You are not authorised to make changes to "+c))):(p(new Error("Error: "+n.status)),e(r.b("danger","Error: "+n.status))):(p(new Error("Error: Could not get a valid response from the server.")),e(r.b("danger","Error: Could not get a valid response from the server.")))}).catch(t=>(e({type:a.N,payload:{type:"warning",message:t.message}}),p(t)))}),k=(e,t,n)=>{n&&n(e.get(t))}},function(e,t,n){"use strict";function a(e){return e.link?o.a.createElement(p,e,e.children):o.a.createElement(d,e,e.children)}var r=n(0),o=n.n(r),i=n(1),s=n.n(i),l=n(3),c=n.n(l);const d=c.a.button`
  display: inline-flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  border: none;
  border-radius: 4px;
  padding: 4px 15px;
  font-size: 12px;
  text-decoration: none;
  background: #ffffff;
  border: 1px solid #e0e1e1;
  text-transform: uppercase;
  letter-spacing: 1px;
  // Block Level Button
  ${e=>e.block&&"width: 100%;"}
  // Color
  ${e=>e.primary&&"\n    background: #469fe5;\n    color: white;\n  "}
  ${e=>e.success&&"\n    background: #6bbb69;\n    color: white;\n  "}
  ${e=>e.danger&&"\n    background: #EC476E;\n    color: white;\n  "}
  // Active state
  ${e=>e.active&&"\n    background: #F2F3F4;\n    color: #4F555C;\n  "}
  // Hover
  &:hover {
    cursor: pointer;
    text-decoration: none;
    // color: white;
  }
`,p=c.a.button`
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  padding: 0;
  margin: 0;
  ${e=>e.primary&&"color: #469fe5;"} ${e=>e.success&&"color: #6bbb69;"} ${e=>e.danger&&"color: #EC476E;"} &:hover {
    cursor: pointer;
  }
`;c.a.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: flex-start;
  > button {
    margin: 0!important;
    border-radius: 0;
    &:first-child { border-radius: 4px 0 0 4px; }
    &:last-child { border-radius: 0 4px 4px 0; }
    &:not(:first-child) { border-left: 0; }
  }
  & > button:hover {
    background-color: #343434;
    color: #fff;
  }
`;a.propTypes={link:s.a.bool,danger:s.a.bool,onClick:s.a.func,primary:s.a.bool,success:s.a.bool},a.defaultProps={link:!1,primary:!1,success:!1,danger:!1},t.a=a},function(e,t){"use strict";t.a=((e,t)=>{console.log("%s: %s",e,t)})},function(e){e.exports=require("react-redux")},function(e){e.exports=require("recompose")},function(e){e.exports=require("reselect")},function(e){e.exports=require("path")},function(e){e.exports=require("react-motion")},function(e){e.exports=require("lodash")},function(e){e.exports=require("uuid/v4")},,function(e){e.exports=require("redux")},function(e,t,n){const a=n(7).remote.require("electron-settings"),r=n(55),o=n(54);let i,s;e.exports={preload:function(){for(const e in i={},function(){switch(a.get("general.sound")){case"cs":s=r;break;default:s=o}}(),s)if(!i[e]){const t=s[e],n=i[e]=new window.Audio;n.volume=t.volume,n.src=t.url}},play:function(e){if(!a.get("general.muted")){let t=i[e];if(!t){const n=s[e];if(!n)throw new Error("Invalid sound name");(t=i[e]=new window.Audio).volume=n.volume,t.src=n.url}t.currentTime=0,t.play()}}}},function(e){e.exports=require("react-dom")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(0)),r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},i=function(e){function t(){return r(this,t),o(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a.Children.only(this.props.children)},t}(a.Component);t.AppContainer=i,t.hot=function(){return function(e){return e}},t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){}},function(e){e.exports={}},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return l});var a=n(2),r=n(4);n.n(r);const o=Object(r.createAction)(a.I),i=(Object(r.createAction)(a.H,e=>e),Object(r.createAction)(a.G,e=>e)),s=Object(r.createAction)(a.L,e=>e),l=Object(r.createAction)(a.K,(e,t)=>({tripBookingID:e,status:t}))},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return d});var a=n(2),r=n(4);n.n(r);const o=Object(r.createAction)(a.y),i=Object(r.createAction)(a.z,e=>e),s=(Object(r.createAction)(a.w,e=>e),Object(r.createAction)(a.v,e=>e)),l=(Object(r.createAction)(a.x,e=>e),Object(r.createAction)(a.B,e=>e)),c=Object(r.createAction)(a.A,(e,t)=>({materialID:e,status:t})),d=Object(r.createAction)(a.u,(e,t)=>({materialID:e,configs:t}))},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return d});var a=n(2),r=n(4);n.n(r);const o=Object(r.createAction)(a.q),i=Object(r.createAction)(a.r,e=>e),s=(Object(r.createAction)(a.o,e=>e),Object(r.createAction)(a.n,e=>e)),l=(Object(r.createAction)(a.p,e=>e),Object(r.createAction)(a.t,e=>e)),c=Object(r.createAction)(a.s,(e,t)=>({clientID:e,status:t})),d=Object(r.createAction)(a.m,(e,t)=>({clientID:e,configs:t}))},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return d});var a=n(2),r=n(4);n.n(r);const o=Object(r.createAction)(a.U),i=Object(r.createAction)(a.W,e=>e),s=(Object(r.createAction)(a.S,e=>e),Object(r.createAction)(a.R,e=>e)),l=(Object(r.createAction)(a.T,e=>e),Object(r.createAction)(a.Y,e=>e)),c=Object(r.createAction)(a.X,(e,t)=>({userID:e,status:t})),d=Object(r.createAction)(a.Q,(e,t)=>({userID:e,configs:t}))},function(e,t,n){const a=n(14),r=n(53),{BrowserWindow:o}=n(7).remote,i=n(20),s=n(37);e.exports=function(e,t="",n){const l=s(450,220);let c=new o({x:l.x,y:l.y,width:450,height:220,backgroundColor:"#282828",frame:!1,show:!1});c.loadURL(r.format({pathname:a.resolve(__dirname,"../modal/index.html"),protocol:"file:",slashes:!0})),c.on("close",()=>c=null),c.webContents.on("did-finish-load",()=>{c.webContents.send("update-modal",e,t,n)}),c.on("ready-to-show",()=>{c.show(),c.focus(),i.play("DIALOG")})}},function(e,t,n){"use strict";e.exports=n(22)},function(){if(document.addEventListener("dragover",e=>e.preventDefault()),document.addEventListener("drop",e=>e.preventDefault()),"linux"==process.platform||"win32"==process.platform){document.querySelectorAll("body,#root,.appWrapper").forEach(e=>{e.classList.add("non-draggable")})}},function(e,t,n){"use strict";e.exports=n(22)},function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),s=n(3),l=n.n(s);const c=l.a.div`
  padding: 20px;
  font-weight: 200;
  color: #4f555c;
  background: white;
  border-radius: 4px;
  border: 1px solid rgba(0, 0, 0, 0.1);
  ${e=>e.info&&"border-left: 5px solid #469FE5; border-right: 5px solid #469FE5;"} ${e=>e.success&&"border-left: 5px solid #6BBB69; border-right: 5px solid #6BBB69;"} ${e=>e.danger&&"border-left: 5px solid #EC476E; border-right: 5px solid #EC476E;"} ${e=>e.warning&&"border-left: 5px solid #F9D548; border-right: 5px solid #F9D548;"};
`,d=e=>r.a.createElement(c,e,e.text);d.propTypes={text:i.a.string.isRequired,info:i.a.bool,success:i.a.bool,danger:i.a.bool,warning:i.a.bool},d.defaultProps={info:!0,success:!1,danger:!1,warning:!1},t.a=d},function(e){e.exports=require("react-modal")},function(e,t,n){"use strict";n.d(t,"b",function(){return s});var a=n(4),r=(n.n(a),n(13)),o=(n.n(r),n(41));const i=Object(a.handleActions)({[Object(a.combineActions)(o.b,o.d,o.a,o.c)]:(e,t)=>t.payload},[]);t.a=i;const s=Object(r.createSelector)(e=>e.accommodationDestinations,e=>e)},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return l});var a=n(2),r=n(4);n.n(r);const o=Object(r.createAction)(a.c),i=(Object(r.createAction)(a.b,e=>e),Object(r.createAction)(a.a,e=>e)),s=Object(r.createAction)(a.f,e=>e),l=Object(r.createAction)(a.e,(e,t)=>({accommodationBookingID:e,status:t}))},function(e,t,n){"use strict";n.r(t),n.d(t,"SERVER_IP",function(){return o}),n.d(t,"SERVER_PORT",function(){return i}),n.d(t,"HttpClient",function(){return s});var a=n(69),r=n.n(a);n(6);const o="localhost",i=8080,s=r.a.create({baseURL:"http://"+o+":"+i+"/",headers:{"Content-Type":"application/json;"}})},function(e,t,n){const a=n(7);e.exports=((e,t)=>{const n=a.screen.getPrimaryDisplay(),{x:r,y:o,width:i,height:s}=n.bounds;return{x:r+(i-e)/2,y:o+(s-t)/2}})},function(e,t,n){"use strict";n.d(t,"b",function(){return s});var a=n(4),r=(n.n(a),n(13)),o=(n.n(r),n(25));const i=Object(a.handleActions)({[Object(a.combineActions)(o.b,o.c,o.d,o.f,o.a,o.e)]:(e,t)=>t.payload},[]);t.a=i;const s=Object(r.createSelector)(e=>e.materials,e=>e)},function(e,t,n){"use strict";n.d(t,"b",function(){return s});var a=n(4),r=(n.n(a),n(13)),o=(n.n(r),n(26));const i=Object(a.handleActions)({[Object(a.combineActions)(o.b,o.c,o.d,o.f,o.a,o.e)]:(e,t)=>t.payload},[]);t.a=i;const s=Object(r.createSelector)(e=>e.clients,e=>e)},function(e,t,n){"use strict";n.d(t,"b",function(){return s});var a=n(4),r=(n.n(a),n(13)),o=(n.n(r),n(27));const i=Object(a.handleActions)({[Object(a.combineActions)(o.b,o.c,o.d,o.f,o.a,o.e)]:(e,t)=>t.payload},[]);t.a=i;const s=Object(r.createSelector)(e=>e.users,e=>e)},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return l});var a=n(2),r=n(4);n.n(r);const o=Object(r.createAction)(a.i),i=(Object(r.createAction)(a.h,e=>e),Object(r.createAction)(a.g,e=>e)),s=Object(r.createAction)(a.l,e=>e),l=Object(r.createAction)(a.k,(e,t)=>({accommodationDestinationID:e,status:t}))},function(e){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=(n(32),n(3)),i=n.n(o);const s=n(28),l=i.a.div`
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  justify-content: center;
  align-items: center;
  background: #2C323A;
  h1 {
    font-size: 500%;
    color: #CBC189;
  }
  h2 {
    font-weight: 400;
    color: white;
  }
  p {
    margin: 0;
    font-weight: 100;
    color: #C4C8CC;
    line-height: 1.75;
    text-align: center;
  }
`;t.a=class extends a.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){this.setState({hasError:!0}),s({type:"warning",title:"Error Boundary",message:t.componentStack})}render(){return this.state.hasError?r.a.createElement(l,null,r.a.createElement("h1",null,r.a.createElement("i",{className:"ion-bug"})),r.a.createElement("h2",null,"You have found a bug!"),r.a.createElement("p",null,"Please report this to the maintainer of Resource Engine.",r.a.createElement("br",null),"GitHub: https://github.com/FadulousIT/ERP_app",r.a.createElement("br",null),"Email: casper@foag.co.za")):this.props.children}}},function(e,t){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function n(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function a(e,t,n){a.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function r(e,t){r.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function o(e,t){o.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var a=e.slice((n||t)+1||e.length);return e.length=0>t?e.length+t:t,e.push.apply(e,a),e}function l(e){var t=void 0===e?"undefined":x(e);return"object"===t?e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object":t}function c(e,t,n,d,p,u,h){p=p||[],h=h||[];var m=p.slice(0);if(void 0!==u){if(d){if("function"==typeof d&&d(m,u))return;if("object"===(void 0===d?"undefined":x(d))){if(d.prefilter&&d.prefilter(m,u))return;if(d.normalize){var g=d.normalize(m,u,e,t);g&&(e=g[0],t=g[1])}}}m.push(u)}"regexp"===l(e)&&"regexp"===l(t)&&(e=e.toString(),t=t.toString());var b=void 0===e?"undefined":x(e),f=void 0===t?"undefined":x(t),v="undefined"!==b||h&&h[h.length-1].lhs&&h[h.length-1].lhs.hasOwnProperty(u),y="undefined"!==f||h&&h[h.length-1].rhs&&h[h.length-1].rhs.hasOwnProperty(u);if(!v&&y)n(new r(m,t));else if(!y&&v)n(new o(m,e));else if(l(e)!==l(t))n(new a(m,e,t));else if("date"===l(e)&&0!=e-t)n(new a(m,e,t));else if("object"!==b||null===e||null===t)e!==t&&("number"===b&&isNaN(e)&&isNaN(t)||n(new a(m,e,t)));else if(h.filter(function(t){return t.lhs===e}).length)e!==t&&n(new a(m,e,t));else{if(h.push({lhs:e,rhs:t}),Array.isArray(e)){var _;for(e.length,_=0;_<e.length;_++)_>=t.length?n(new i(m,_,new o(void 0,e[_]))):c(e[_],t[_],n,d,m,_,h);for(;_<t.length;)n(new i(m,_,new r(void 0,t[_++])))}else{var E=Object.keys(e),w=Object.keys(t);E.forEach(function(a){var r=w.indexOf(a);0<=r?(c(e[a],t[a],n,d,m,a,h),w=s(w,r)):c(e[a],void 0,n,d,m,a,h)}),w.forEach(function(e){c(void 0,t[e],n,d,m,e,h)})}--h.length}}function d(e,t,n,a){return a=a||[],c(e,t,function(e){e&&a.push(e)},n),a.length?a:void 0}function p(e,t,n){if(n.path&&n.path.length){var a,r=e[t],o=n.path.length-1;for(a=0;a<o;a++)r=r[n.path[a]];switch(n.kind){case"A":p(r[n.path[a]],n.index,n.item);break;case"D":delete r[n.path[a]];break;case"E":case"N":r[n.path[a]]=n.rhs}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function u(e,t,n){if(e&&t&&n&&n.kind){for(var a=e,r=-1,o=n.path?n.path.length-1:0;++r<o;)void 0===a[n.path[r]]&&(a[n.path[r]]="number"==typeof n.path[r]?[]:{}),a=a[n.path[r]];switch(n.kind){case"A":p(n.path?a[n.path[r]]:a,n.index,n.item);break;case"D":delete a[n.path[r]];break;case"E":case"N":a[n.path[r]]=n.rhs}}}function h(e,t,n){if(n.path&&n.path.length){var a,r=e[t],o=n.path.length-1;for(a=0;a<o;a++)r=r[n.path[a]];switch(n.kind){case"A":h(r[n.path[a]],n.index,n.item);break;case"D":case"E":r[n.path[a]]=n.lhs;break;case"N":delete r[n.path[a]]}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function m(e,t,n,a){var r=d(e,t);try{a?n.groupCollapsed("diff"):n.group("diff")}catch(a){n.log("diff")}r?r.forEach(function(e){var t=e.kind,a=function(e){var t=e.kind,n=e.path,a=e.lhs,r=e.rhs,o=e.index,i=e.item;return"E"===t?[n.join("."),a,"→",r]:"N"===t?[n.join("."),r]:"D"===t?[n.join(".")]:"A"===t?[n.join(".")+"["+o+"]",i]:[]}(e);n.log.apply(n,["%c "+S[t].text,function(e){return"color: "+S[e].color+"; font-weight: bold"}(t)].concat(w(a)))}):n.log("—— no diff ——");try{n.groupEnd()}catch(a){n.log("—— diff end —— ")}}function g(e,t,n,a){switch(void 0===e?"undefined":x(e)){case"object":return"function"==typeof e[a]?e[a].apply(e,w(n)):e[a];case"function":return e(t);default:return e}}function b(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},T,e),n=t.logger,a=t.stateTransformer,r=t.errorTransformer,o=t.predicate,i=t.logErrors,s=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var l=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof o&&!o(n,c))return e(c);var d,p={};if(l.push(p),p.started=E.now(),p.startedTime=new Date,p.prevState=a(n()),p.action=c,i)try{d=e(c)}catch(e){p.error=r(e)}else d=e(c);p.took=E.now()-p.started,p.nextState=a(n());var u=t.diff&&"function"==typeof s?s(n,c):t.diff;if(function(e,t){var n=t.logger,a=t.actionTransformer,r=t.titleFormatter,o=void 0===r?function(e){var t=e.timestamp,n=e.duration;return function(e,a,r){var o=["action"];return o.push("%c"+e.type),t&&o.push("%c@ "+a),n&&o.push("%c(in "+r.toFixed(2)+" ms)"),o.join(" ")}}(t):r,i=t.collapsed,s=t.colors,l=t.level,c=t.diff,d=void 0===t.titleFormatter;e.forEach(function(r,p){var u=r.started,h=r.startedTime,b=r.action,f=r.prevState,v=r.error,y=r.took,E=r.nextState,x=e[p+1];x&&(E=x.prevState,y=x.started-u);var w=a(b),k="function"==typeof i?i(function(){return E},b,r):i,S=_(h),T=s.title?"color: "+s.title(w)+";":"",C=["color: gray; font-weight: lighter;"];C.push(T),t.timestamp&&C.push("color: gray; font-weight: lighter;"),t.duration&&C.push("color: gray; font-weight: lighter;");var O=o(w,S,y);try{k?s.title&&d?n.groupCollapsed.apply(n,["%c "+O].concat(C)):n.groupCollapsed(O):s.title&&d?n.group.apply(n,["%c "+O].concat(C)):n.group(O)}catch(e){n.log(O)}var A=g(l,w,[f],"prevState"),N=g(l,w,[w],"action"),L=g(l,w,[v,f],"error"),j=g(l,w,[E],"nextState");if(A)if(s.prevState){var D="color: "+s.prevState(f)+"; font-weight: bold";n[A]("%c prev state",D,f)}else n[A]("prev state",f);if(N)if(s.action){var I="color: "+s.action(w)+"; font-weight: bold";n[N]("%c action    ",I,w)}else n[N]("action    ",w);if(v&&L)if(s.error){var R="color: "+s.error(v,f)+"; font-weight: bold;";n[L]("%c error     ",R,v)}else n[L]("error     ",v);if(j)if(s.nextState){var F="color: "+s.nextState(E)+"; font-weight: bold";n[j]("%c next state",F,E)}else n[j]("next state",E);c&&m(f,E,n,k);try{n.groupEnd()}catch(e){n.log("—— log end ——")}})}(l,Object.assign({},t,{diff:u})),l.length=0,p.error)throw p.error;return d}}}}var f,v,y=function(e,t){return function(e,t){return Array(t+1).join(e)}("0",t-e.toString().length)+e},_=function(e){return y(e.getHours(),2)+":"+y(e.getMinutes(),2)+":"+y(e.getSeconds(),2)+"."+y(e.getMilliseconds(),3)},E="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},k=[];f="object"===("undefined"==typeof global?"undefined":x(global))&&global?global:"undefined"==typeof window?{}:window,(v=f.DeepDiff)&&k.push(function(){void 0!==v&&f.DeepDiff===d&&(f.DeepDiff=v,v=void 0)}),t(a,n),t(r,n),t(o,n),t(i,n),Object.defineProperties(d,{diff:{value:d,enumerable:!0},observableDiff:{value:c,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&c(e,t,function(a){n&&!n(e,t,a)||u(e,t,a)})},enumerable:!0},applyChange:{value:u,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var a,r,o=e;for(r=n.path.length-1,a=0;a<r;a++)void 0===o[n.path[a]]&&(o[n.path[a]]={}),o=o[n.path[a]];switch(n.kind){case"A":h(o[n.path[a]],n.index,n.item);break;case"D":case"E":o[n.path[a]]=n.lhs;break;case"N":delete o[n.path[a]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==v},enumerable:!0},noConflict:{value:function(){return k&&(k.forEach(function(e){e()}),k=null),d},enumerable:!0}});var S={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},T={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},C=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?b()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=T,e.createLogger=b,e.logger=C,e.default=C,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c});var a=n(2),r=n(4),o=(n.n(r),n(13));n.n(o);const i=Object(r.handleActions)({[a.D]:(e,t)=>t.payload,[a.F]:(e,t)=>Object.assign({},e,{current:Object.assign({},e.current,{[t.payload.setting]:t.payload.data})}),[a.E]:(e,t)=>Object.assign({},e,{saved:t.payload})},{});t.a=i;const s=e=>e.settings,l=Object(o.createSelector)(s,e=>e.current),c=Object(o.createSelector)(s,e=>e.saved);Object(o.createSelector)(s,e=>e.saved.invoice.dateFormat)},,function(e){e.exports=require("react-dnd")},function(e,t,n){"use strict";n.d(t,"b",function(){return s});var a=n(4),r=(n.n(a),n(13)),o=(n.n(r),n(35));const i=Object(a.handleActions)({[Object(a.combineActions)(o.b,o.d,o.a,o.c)]:(e,t)=>t.payload},[]);t.a=i;const s=Object(r.createSelector)(e=>e.accommodationBookings,e=>e)},function(e,t,n){"use strict";n.d(t,"b",function(){return s});var a=n(4),r=(n.n(a),n(13)),o=(n.n(r),n(24));const i=Object(a.handleActions)({[Object(a.combineActions)(o.b,o.d,o.a,o.c)]:(e,t)=>t.payload},[]);t.a=i;const s=Object(r.createSelector)(e=>e.tripBookings,e=>e)},function(e){e.exports=require("moment")},function(e){e.exports=require("react-bootstrap-table")},function(e){e.exports=require("react-motion-ui-pack")},function(e){e.exports=require("url")},function(e,t,n){const a=n(14),r=.5;e.exports={STARTUP:{url:a.resolve(__dirname,"../static/sounds/default/startup.wav"),volume:1},DIALOG:{url:a.resolve(__dirname,"../static/sounds/default/dialog.wav"),volume:r},SUCCESS:{url:a.resolve(__dirname,"../static/sounds/default/success.wav"),volume:r},WARNING:{url:a.resolve(__dirname,"../static/sounds/default/warning.wav"),volume:r},ADD:{url:a.resolve(__dirname,"../static/sounds/default/add.wav"),volume:r},REMOVE:{url:a.resolve(__dirname,"../static/sounds/default/remove.wav"),volume:r},RELOAD:{url:a.resolve(__dirname,"../static/sounds/default/reload.wav"),volume:r},TAP:{url:a.resolve(__dirname,"../static/sounds/default/tap.wav"),volume:r}}},function(e,t,n){const a=n(14),r=.25;e.exports={STARTUP:{url:a.resolve(__dirname,"../static/sounds/cs/startup.wav"),volume:.5},DIALOG:{url:a.resolve(__dirname,"../static/sounds/cs/dialog.wav"),volume:r},SUCCESS:{url:a.resolve(__dirname,"../static/sounds/cs/success.wav"),volume:r},WARNING:{url:a.resolve(__dirname,"../static/sounds/cs/warning.wav"),volume:r},ADD:{url:a.resolve(__dirname,"../static/sounds/cs/add.wav"),volume:r},REMOVE:{url:a.resolve(__dirname,"../static/sounds/cs/remove.wav"),volume:r},RELOAD:{url:a.resolve(__dirname,"../static/sounds/cs/reload.wav"),volume:r},TAP:{url:a.resolve(__dirname,"../static/sounds/cs/tap.wav"),volume:r}}},function(e){e.exports=require("electron-is-dev")},function(e){e.exports=require("react-dnd-html5-backend")},function(e){e.exports=require("muicss/lib/react/select")},function(e){e.exports=require("muicss/lib/react/option")},function(e,t,n){function a(e,t){for(var n=0;n<e.length;n++){var a=e[n],r=u[a.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](a.parts[o]);for(;o<a.parts.length;o++)r.parts.push(d(a.parts[o],t))}else{var i=[];for(o=0;o<a.parts.length;o++)i.push(d(a.parts[o],t));u[a.id]={id:a.id,refs:1,parts:i}}}}function r(e,t){for(var n=[],a={},r=0;r<e.length;r++){var o=e[r],i=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};a[i]?a[i].parts.push(s):n.push(a[i]={id:i,parts:[s]})}return n}function o(e,t){var n=m(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var a=f[f.length-1];if("top"===e.insertAt)a?a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),f.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=m(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function i(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=f.indexOf(e);0<=t&&f.splice(t,1)}function s(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),c(t,e.attrs),o(e,t),t}function l(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",c(t,e.attrs),o(e,t),t}function c(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function d(e,t){var n,a,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var c=b++;n=g||(g=s(t)),a=p.bind(null,n,c,!1),r=p.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),a=function(e,t,n){var a=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(a=v(a)),r&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([a],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}.bind(null,n,t),r=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),a=function(e,t){var n=t.css,a=t.media;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){i(n)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}function p(e,t,n,a){var r=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=y(t,r);else{var o=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}var u={},h=function(e){var t;return function(){return void 0===t&&(t=function(){return window&&document&&document.all&&!window.atob}.apply(this,arguments)),t}}(),m=function(){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(e){return document.querySelector(e)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),g=null,b=0,f=[],v=n(79);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=h()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=r(e,t);return a(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var s=n[i];(l=u[s.id]).refs--,o.push(l)}e&&a(r(e,t),t);var l;for(i=0;i<o.length;i++)if(0===(l=o[i]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete u[l.id]}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e){function t(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var r=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(a),o=a.sources.map(function(e){return"/*# sourceURL="+a.sourceRoot+e+" */"});return[n].concat(o).concat([r]).join("\n")}return[n].join("\n")}e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var a=t(n,e);return n[2]?"@media "+n[2]+"{"+a+"}":a}).join("")},n.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var a,r={},o=0;o<this.length;o++)"number"==typeof(a=this[o][0])&&(r[a]=!0);for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(t&&!i[2]?i[2]=t:t&&(i[2]="("+i[2]+") and ("+t+")"),n.push(i))}},n}},function(e){e.exports=require("fs")},,function(e,t,n){"use strict";function a(e){return Object(r.createStore)(f,e,A(Object(r.applyMiddleware)(...O)))}var r=n(19),o=n(56),i=n.n(o),s=n(2),l=n(4);const c=Object(l.handleActions)({[s.M]:(e,t)=>Object.assign({},e,{checkUpdatesMessage:t.payload}),[s.P]:(e,t)=>Object.assign({},e,{activeTab:t.payload}),[s.N]:(e,t)=>Object.assign({},e,{notifications:[t.payload]}),[s.O]:(e,t)=>Object.assign({},e,{notifications:e.notifications.filter(e=>e.id!==t.payload)})},{activeTab:"login",notifications:[],checkUpdatesMessage:{}});var d=n(45),p=n(40),u=n(39),h=n(38),m=n(49),g=n(48),b=n(34),f=Object(r.combineReducers)({ui:c,settings:d.a,users:p.a,materials:h.a,clients:u.a,accommodationBookings:g.a,tripBookings:m.a,accommodationDestinations:b.a}),v=n(44),y=n.n(v),_=n(20),E=n.n(_);const x=n(7).remote.require("electron-settings"),w=n(7).ipcRenderer;var k=n(17),S=n.n(k),T=(n(23),n(5),n(8));n(7).remote.require("electron-settings"),n(7).ipcRenderer,n(7).remote.require("electron-settings"),n(7).ipcRenderer,n(7).remote.require("electron-settings"),n(7).ipcRenderer;var C=n(6);n(7).remote.require("electron-settings"),n(7).ipcRenderer,n(7).remote.require("electron-settings"),n(7).ipcRenderer,n(7).remote.require("electron-settings"),n(7).ipcRenderer;n.d(t,"a",function(){return a});const O=[({dispatch:e})=>t=>n=>{switch(n.type){case s.D:{const e={profile:x.get("profile"),general:x.get("general")};return t(Object.assign({},n,{payload:{current:e,saved:e}}))}case s.E:{const a=x.get("profile"),r=n.payload.profile;a!==r&&w.send("change-preview-window-profile",r),x.set("profile",n.payload.profile),x.set("general",n.payload.general),E.a.preload(),t(n),e({type:s.N,payload:{type:"success"}});break}default:return t(n)}},({getState:e})=>t=>n=>{switch(n.type){case s.P:{const a=e().ui.activeTab;n.payload!==a&&(E.a.play("TAP"),t(n));break}case s.N:if(void 0!==n.payload.type){switch(n.payload.type){case"success":E.a.play("SUCCESS");break;case"warning":E.a.play("WARNING")}return t(Object.assign({},n,{payload:Object.assign({},n.payload,{id:S()()})}))}return t(n);default:return t(n)}},({dispatch:e,getState:t})=>n=>a=>{switch(a.type){case s.U:return T.i(e,a,"/users",T.g,"users").then(e=>n({type:s.U,payload:e})).catch(()=>n({type:s.U,payload:[]}));case s.USER_NEW:{const r=Object.assign(a.payload,{object_number:t().users.length});return T.k(e,T.g,r,"/user","users").then(e=>{const t=Object.assign(a.payload,{_id:e});n({type:s.USER_NEW,payload:t}),a.callback&&a.callback(t)}).catch(()=>n({type:s.USER_NEW,payload:[]}))}case s.Y:return console.log("user update:",a.payload),T.j(e,T.g,a.payload,"/user","users").then(e=>n({type:s.Y,payload:e})).catch(()=>n({type:s.Y,payload:[]}));case s.S:{const t=Object.assign({},a.payload,{created_at:Date.now(),_id:S()(),_rev:null});return e({type:s.W,payload:t})}default:return n(a)}},({dispatch:e,getState:t})=>t=>n=>{switch(n.type){case s.q:return T.i(e,n,"/clients",T.d,"clients").then(e=>t(Object.assign({},n,{payload:e})));case s.r:case s.p:case s.n:case s.o:{const t=Object.assign({},n.payload,{created_at:Date.now(),_id:S()(),_rev:null});return e({type:s.r,payload:t})}case s.t:case s.m:case s.s:default:return t(n)}},({dispatch:e,getState:t})=>t=>n=>{switch(n.type){case s.y:return T.i(e,n,"/resources",T.e,"resources").then(e=>t(Object.assign({},n,{payload:e})));case s.z:case s.x:case s.v:case s.w:{const t=Object.assign({},n.payload,{created_at:Date.now(),_id:S()(),_rev:null});return e({type:s.z,payload:t})}case s.B:case s.u:case s.A:default:return t(n)}},({dispatch:e,getState:t})=>n=>a=>{switch(a.type){case s.I:return T.i(e,a,"/bookings/trips",T.f,"trip_bookings").then(e=>n(Object.assign({},a,{payload:e}))).catch(e=>{a.callback&&a.callback(void 0,e),n(a)});case s.J:{const r=Object.assign(a.payload,{object_number:t().tripBookings.length,creator:C.b().usr});return T.k(e,T.f,r,"/bookings/trips","trip_bookings").then(e=>{a.callback&&a.callback(e),n({type:s.J,payload:e})}).catch(e=>{a.callback&&a.callback(void 0,e),n(a)})}case s.L:return console.log("tripBooking update:",a.payload),T.j(e,T.f,a.payload,"/bookings/trips","trip_bookings").then(e=>{a.callback&&a.callback(e),n({type:s.L,payload:t().tripBookings})}).catch(e=>{a.callback&&a.callback(void 0,e)});case s.G:case s.H:case s.K:default:return n(a)}},({dispatch:e,getState:t})=>n=>a=>{switch(a.type){case s.c:return T.i(e,a,"/bookings/accommodation",T.b,"accommodation_bookings").then(e=>n(Object.assign({},a,{payload:e})));case s.d:{const r=Object.assign(a.payload,{object_number:t().accommodationBookings.length});return T.k(e,T.b,r,"/bookings/accommodation","accommodation_bookings").then(e=>{n({type:s.d,payload:e})})}case s.f:return console.log("accommodationBooking update:",a.payload),T.j(e,T.b,a.payload,"/bookings/accommodation","accommodation_bookings").then(e=>{a.callback&&a.callback(e),n({type:s.f,payload:t().accommodationBookings})}).catch(e=>{a.callback&&a.callback(void 0,e)});case s.a:case s.b:case s.e:default:return n(a)}},({dispatch:e,getState:t})=>n=>a=>{switch(a.type){case s.i:return T.i(e,a,"/destinations",T.c,"accommodation_destinations").then(e=>{a.callback&&a.callback(e),n(Object.assign({},a,{payload:e}))}).catch(e=>{a.callback&&a.callback(void 0,e),n(Object.assign({},a,{payload:a.payload||[]}))});case s.j:{const r=Object.assign(a.payload,{object_number:t().accommodationDestinations.length,creator:C.b().usr});return T.k(e,T.c,r,"/destination","accommodation_destinations").then(e=>{t().accommodationDestinations.push(r),a.callback&&a.callback(e),n({type:s.j,payload:e})}).catch(e=>{a.callback&&a.callback(void 0,e),n(Object.assign({},a,{payload:a.payload||[]}))})}case s.l:return T.j(e,T.c,a.payload,"/destination","accommodation_destinations").then(e=>{a.callback&&a.callback(e),n({type:s.l,payload:t().accommodationDestinations})}).catch(e=>{a.callback&&a.callback(void 0,e)});case s.g:case s.h:case s.k:default:return n(a)}}];i.a&&(O.unshift(({dispatch:e,getState:t})=>e=>t=>{console.time(t.type),e(t),console.timeEnd(t.type)}),O.push(y.a));const A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.compose},,function(e,t,n){"use strict";function a({activeTab:e,changeTab:t}){const n=O(e),a=A.map(e=>h.a.createElement(L,{key:e.name,href:"#",onClick:()=>t(e.name)},h.a.createElement(I,{id:e.name,icon:e.icon}),h.a.createElement(j,null,e.title)));return h.a.createElement(N,null,h.a.createElement("div",null,h.a.createElement(k.Motion,{style:{marginTop:Object(k.spring)(n,C)}},({marginTop:e})=>h.a.createElement(D,null,h.a.createElement("div",{style:{height:`${100/A.length}%`,top:`${e}%`}}))),a))}function r(e){return h.a.createElement(V,e,e.children)}function o(e){return h.a.createElement(W,e,e.children)}function i(e){return h.a.createElement(Ie,e,e.children)}function s(e,t){if(function(e){const t=rt.readFileSync(e);return ot(t)}(e)){const n=function(e){return"data:image/svg+xml;base64,"+rt.readFileSync(e).toString("base64")}(e);t(n)}else at.read(e,(e,n)=>{e&&l(e);try{n.resize(500,at.AUTO).quality(100).getBase64(at.MIME_PNG,(e,n)=>{e&&l(e),t(n)})}catch(e){e&&l(e)}})}function l(e){it({type:"warning",title:"File Type Error",message:e.message})}function c({dateFormat:e,exportDir:t,template:n,selectExportDir:a,handleInputChange:r}){return[h.a.createElement("label",{key:"label",className:"itemLabel"},"Other"),h.a.createElement(B,{key:"part"},h.a.createElement(P,null,h.a.createElement(M,null,h.a.createElement("label",{className:"itemLabel"},"PDF Export Directory"),h.a.createElement($t,null,h.a.createElement("input",{name:"exportDir",type:"text",value:t,disabled:!0}),h.a.createElement("a",{href:"#",className:"input-group-customized ",onClick:a},h.a.createElement("i",{className:"ion-folder"}))))))]}function d({notifications:e,removeNotification:t}){const n=e.map(e=>h.a.createElement(an,{key:e.id,notification:e,removeNotification:t}));return h.a.createElement(sn,null,h.a.createElement(on,{componentHeight:90},n))}var p={};n.d(p,"getInitalSettings",function(){return _}),n.d(p,"updateSettings",function(){return E}),n.d(p,"saveSettings",function(){return x});var u=n(0),h=n.n(u),m=n(1),g=n.n(m),b=n(11),f=n(5),v=n(2),y=n(4);const _=Object(y.createAction)(v.D),E=Object(y.createAction)(v.F,(e,t)=>({setting:e,data:t})),x=Object(y.createAction)(v.E,e=>e);var w=n(16),k=n(15),S=n(3),T=n.n(S);const C={stiffness:350,damping:18,precision:.01},O=e=>{const t=100/A.length;return Object(w.findIndex)(A,{name:e})*t},A=[{title:"Trip Bookings",name:"trip-bookings",icon:"ios-airplane"},{title:"Accommodation Bookings",name:"accommodation-bookings",icon:"ios-bed"},{title:"Messages",name:"messages",icon:"ios-chatbubbles"},{title:"Settings",name:"settings",icon:"ios-cog"}],N=T.a.div`
  flex: 1;
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
  width: 100px;
  min-width: 100px;
  max-width: 100px;
  background: #363E47;
  margin-top: 45px;
  -webkit-box-shadow: 7px 0px 17px #3c3c3c;
`,L=T.a.a`
  position: relative;
  color: white;
  display: flex;
  width: 100%;
  align-items: center;
  justify-content: center;
  font-size: 24px;
  line-height: 1.5;
  text-decoration: none;
  height: 90px;
  &:hover {
    color: #fff;
    background: radial-gradient(circle 170px, #3c3c3c, #111417);
    text-decoration: none;
  }
`,j=T.a.div`
  position: absolute;
  margin-top: 30px;
  font-size: 9pt;
  text-align:center;
  font-weight:100;
  display:block;
`,D=(T.a.i`
  ${e=>"trip-bookings"===e.id&&"color: #40FF9A;"};
  ${e=>"accommodation-bookings"===e.id&&"color: #40FF9A;"};
  ${e=>"trip-history"===e.id&&"color: #469fe5;"};
  ${e=>"accommodation-history"===e.id&&"color: #C4C8CC;"};
  ${e=>"messages"===e.id&&"color: #cbc189;"};
  ${e=>"settings"===e.id&&"color: #cbc189;"};
`,T.a.div`
  height: ${90*A.length}px;
  width: 5px;
  position: absolute;
  > div {
    position: absolute;
    background: #292b2c;
    width: 100px;
    border-left: 5px solid #469fe5;
    border-bottom: 1px solid #3e3e3e;
    border-top: 1px solid #3e3e3e;
  }
`),I=T.a.div`
  width: 60px;
  height: 40px;
  ${e=>`background: url(../static/images/icons/${e.icon}.svg);`}
  background-size: contain;
  background-position: center;
  background-repeat: no-repeat;
  &:hover
  {
    // background-color: red;
  }
`;a.propTypes={activeTab:g.a.string.isRequired,changeTab:g.a.func.isRequired};var R=n(12);const F=T.a.div`
  padding: 20px 20px 0px 20px;
  background: #f9fafa;
  border-radius: 4px;
  margin-bottom: 0px;
  border: 1px solid #f2f3f4;
`,U=T.a.div`
  display: flex;
  margin: 0 -15px;
`,q=T.a.div`
  flex: 1;
  margin: 0 15px 20px 15px;
`,B=(T.a.h2``,e=>h.a.createElement(F,null,e.children)),M=e=>h.a.createElement(q,null,e.children),P=e=>h.a.createElement(U,null,e.children);var z=n(9);const V=T.a.button`
  width: 150px;
  height: 50px;
  font-size: 18pt;
  background-color: rgba(0,255,0,.4);
  border: 1px solid #fff;
  border-radius: 3px;
  color: #fff;
  &:hover
  {
    background-color: rgba(0,200,0,1);
    color: #000;
  }
`;r.propTypes={danger:g.a.bool,onClick:g.a.func,primary:g.a.bool,success:g.a.bool},r.defaultProps={primary:!1,success:!1,danger:!1};var G=r;const W=T.a.button`
  width: 150px;
  height: 50px;
  font-size: 18pt;
  background-color: #46729C;
  border: 1px solid #fff;
  border-radius: 3px;
  color: #fff;
  &:hover
  {
    background-color: #72BAFF;
    color: #000;
  }
`;o.propTypes={danger:g.a.bool,onClick:g.a.func,primary:g.a.bool,success:g.a.bool},o.defaultProps={primary:!1,success:!1,danger:!1};var $=o,H=n(8),Y=n(6),K=n(10),J=n(27),Q=n(26),X=n(25),Z=n(24),ee=n(35);n(41);const te=T.a.div`
  display: flex;
  flex-direction: row;
  height: 100%;
`,ne=T.a.div`
  overflow: auto;
  width: 100%;
  height: 100%;
  background: #f9fafa;
`,ae=T.a.div`
  overflow: auto;
  margin: 0px;
  padding: 0px;
  display: flex;
  flex-direction: row;
  height: 100%;
`,re=T.a.div`
  position: fixed;
  width: 100%;
  display: block;
  align-items: center;
  height: 45px;
  background: #fff;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  z-index: 100;
`,oe=T.a.p`
  font-size: 18px;
  font-weight: 600;
  margin-top: 0;
  text-align: center;
  align-items: center;
  justify-content: center;
  letter-spacing: -0.5px;
`,ie=(T.a.p`
  &: hover{
    color: #fff;
  }
`,T.a.div`
  margin-top: 0px;
  display: inline;
  background-color: red;
  align-items: center;
  justify-content: left;
  button {  margin-left: 10px; }
  i { margin-right: 10px; }
`),se=T.a.div`
  // flex: 1;
  // overflow: hidden;
  margin: 25px 10px 10px 10px;
  width: 100%;
  height: 100%;
  ${e=>!e.bare&&"\n    border: 1px solid rgba(0,0,0,.1);\n    border-radius: 4px;\n    background: #FFF;\n  "};
`,le=(T.a.div`
  position: fixed;
  width: 100%;
  bottom: 0;
  background: #f9fafa;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
`,e=>h.a.createElement(te,null,e.children)),ce=e=>h.a.createElement(ne,null,e.children),de=e=>h.a.createElement(ae,null,e.children),pe=e=>h.a.createElement(re,null,e.children),ue=e=>h.a.createElement(oe,null,e.children),he=e=>h.a.createElement(ie,null,e.children),me=e=>h.a.createElement(se,{bare:e.bare},e.children);var ge=e=>t=>{const n={height:"100%"};return h.a.createElement(k.TransitionMotion,{willEnter:()=>({opacity:0}),willLeave:()=>({opacity:Object(k.spring)(0,k.presets.gentle)}),defaultStyles:[{key:"randomString",style:{opacity:0}}],styles:[{key:"randomString",style:{opacity:Object(k.spring)(1,k.presets.gentle)}}]},a=>h.a.createElement("div",{style:n},a.map(({key:a,style:r})=>h.a.createElement("div",{key:a,style:{style:r,wrapperStyle:n}},h.a.createElement(e,t)))))};class be extends u.Component{constructor(e){super(e),this.login=this.login.bind(this),this.showSignup=this.showSignup.bind(this),this.initDataset=this.initDataset.bind(this)}componentDidMount(){this.txt_username.focus()}showSignup(){this.props.changeTab("signup")}login(){this.props.setLoading(!0),console.log("authenticating %s:%s",this.txt_username.value,this.txt_password.value),H.a(this.props.dispatch,{username:this.txt_username.value,password:this.txt_password.value}).then(e=>{console.log("success, session data: ",e),Y.a.setSessionId(e.session_id),Y.a.setSessionDate(e.date),Y.a.setSessionTtl(e.ttl),Y.a.setSessionUser(e.user),console.log("Session id: ",Y.a.getSessionId()),console.log("Session user: ",Y.a.getSessionUser()),this.props.dispatch({type:v.N,payload:{type:"success",message:2<e.user.access_level?"*Granted super user access rights. Welcome, "+Y.a.getSessionUser().firstname+".":"Successfully signed in. Welcome, "+Y.a.getSessionUser().firstname+"."}}),this.initDataset(),this.props.changeTab("home"),this.props.setLoading(!1)}).catch(e=>{console.log("error: ",e),this.props.setLoading(!1),this.props.dispatch({type:v.N,payload:{type:"danger",message:e.message}})})}initDataset(){const{dispatch:e}=this.props;e(J.b()),e(Q.b()),e(X.b()),e(Z.b()),e(ee.b())}render(){const{t:e}=this.props;return h.a.createElement(de,null,h.a.createElement(pe,null,h.a.createElement(ue,null,"Login"),h.a.createElement(he,{ref:this.header_actions})),h.a.createElement(me,null,h.a.createElement("div",{style:{height:"100%",marginTop:"0px",top:"0px"}},h.a.createElement("div",{style:{padding:"20px",width:"40%",marginTop:"250px",marginLeft:"auto",marginRight:"auto",borderRadius:"10px",border:"1px solid #000",backgroundColor:"#383833",boxShadow:"-5px 5px 30px #343434"}},h.a.createElement("div",{style:{width:"100%",height:"180px",marginTop:"-50px",background:"url(../static/images/logo.png)",backgroundSize:"contain",backgroundRepeat:"no-repeat"}}),h.a.createElement("div",{className:"row",style:{marginTop:"10px"}},h.a.createElement("div",{className:"pageItem col-md-12"},h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Username"),h.a.createElement("input",{ref:e=>this.txt_username=e,name:"username",type:"text",value:"ghost",style:{width:"100%",height:"35px",border:"1px solid #2FA7FF",borderRadius:"3px"},onKeyPress:e=>{"Enter"===e.key&&this.login()}}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-12"},h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Password"),h.a.createElement("input",{ref:e=>this.txt_password=e,name:"password",type:"password",value:"12345678",style:{width:"100%",height:"35px",border:"1px solid #2FA7FF",borderRadius:"3px"},onKeyPress:e=>{"Enter"===e.key&&this.login()}}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement(G,{style:{width:"200px",height:"85px"},onClick:()=>this.login()},"Login")),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("p",{style:{textAlign:"right",color:"#fff"}},"Don't have an account?"),h.a.createElement($,{onClick:()=>this.showSignup(),style:{float:"right"}},"Signup")))))))}}be.propTypes={dispatch:g.a.func.isRequired,changeTab:g.a.func.isRequired,setLoading:g.a.func.isRequired};var fe=Object(R.compose)(Object(b.connect)(()=>({})),ge)(be);class ve extends u.Component{constructor(e){super(e),this.signup=this.signup.bind(this),this.showLogin=this.showLogin.bind(this),this.newUser=this.newUser.bind(this),this.state={new_user:this.newUser()}}newUser(){return{usr:null,pwd:null,firstname:null,lastname:null,name:null,email:null,cell:null,access_level:1}}showLogin(){this.props.changeTab("login")}signup(){return this.props.setLoading(!0),console.log("creating account: ",this.state.new_user),!this.state.new_user.usr||1>=this.state.new_user.usr.length?(this.props.setLoading(!1),this.props.dispatch(f.b("danger","Invalid user handle."))):!this.state.new_user.pwd||7>=this.state.new_user.pwd.length?(this.props.setLoading(!1),this.props.dispatch(f.b("danger","Invalid password.\nPasswords must be at least 8 characters."))):!this.state.new_user.firstname||1>=this.state.new_user.firstname.length?(this.props.setLoading(!1),this.props.dispatch(f.b("danger","Invalid firstname."))):!this.state.new_user.lastname||1>=this.state.new_user.lastname.length?(this.props.setLoading(!1),this.props.dispatch(f.b("danger","Invalid lastname."))):this.state.new_user.email&&!(1>=this.state.new_user.email.length)&&this.state.new_user.email.includes("@")&&this.state.new_user.email.includes(".")?!this.state.new_user.cell||9>=this.state.new_user.cell.length?(this.props.setLoading(!1),this.props.dispatch(f.b("danger","Invalid cellphone number."))):(this.state.new_user.name=this.state.new_user.firstname+" "+this.state.new_user.lastname,this.state.new_user.initials=this.state.new_user.firstname.charAt(0)+this.state.new_user.lastname.charAt(0),this.state.new_user.active=!1,void H.k(this.props.dispatch,H.g,this.state.new_user,"/user","users").then(e=>{console.log("response data: "+e),this.props.dispatch({type:v.N,payload:{type:"success",message:"Successfully created your account."}}),this.props.changeTab("login"),this.props.setLoading(!1)}).catch(e=>{console.log("error: ",e),this.props.dispatch({type:v.N,payload:{type:"danger",message:e.message}}),this.props.setLoading(!1)})):(this.props.setLoading(!1),this.props.dispatch(f.b("danger","Invalid email address.")))}render(){return h.a.createElement(de,null,h.a.createElement(pe,null,h.a.createElement(ue,null,"Signup"),h.a.createElement(he,{ref:this.header_actions})),h.a.createElement(me,null,h.a.createElement("div",{style:{background:"rgba(0,0,0,.0)",height:"100%",marginTop:"-20px"}},h.a.createElement("div",{style:{padding:"20px",width:"34%",marginTop:"20px",marginLeft:"auto",marginRight:"auto"}},h.a.createElement("div",{style:{width:"100%",height:"120px",float:"right",marginRight:"auto",marginLeft:"auto",background:"url(../static/images/logo.png)",backgroundSize:"contain",backgroundRepeat:"no-repeat"}})),h.a.createElement("div",{style:{padding:"20px",width:"60%",marginTop:"150px",marginLeft:"auto",marginRight:"auto",borderRadius:"10px",border:"1px solid #000",backgroundColor:"#383833",boxShadow:"-5px 5px 30px #343434"}},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Username"),h.a.createElement("input",{ref:e=>this.txt_username=e,name:"username",type:"text",value:this.state.new_user.usr,onChange:e=>{const t=this.state.new_user;t.usr=e.currentTarget.value,this.setState({new_user:t})},style:{width:"250px",height:"35px",border:"1px solid #2FA7FF",borderRadius:"3px"}})),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Password"),h.a.createElement("input",{ref:e=>this.txt_password=e,name:"password",type:"password",value:this.state.new_user.pwd,onChange:e=>{const t=this.state.new_user;t.pwd=e.currentTarget.value,this.setState({new_user:t})},style:{width:"250px",height:"35px",border:"1px solid #2FA7FF",borderRadius:"3px"}}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Firstname"),h.a.createElement("input",{ref:e=>this.txt_firstname=e,name:"firstname",type:"text",value:this.state.new_user.firstname,onChange:e=>{const t=this.state.new_user;t.firstname=e.currentTarget.value,this.setState({new_user:t})},style:{width:"250px",height:"35px",border:"1px solid #2FA7FF",borderRadius:"3px"}})),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Lastname"),h.a.createElement("input",{ref:e=>this.txt_lastname=e,name:"lastname",type:"text",value:this.state.new_user.lastname,onChange:e=>{const t=this.state.new_user;t.lastname=e.currentTarget.value,this.setState({new_user:t})},style:{width:"250px",height:"35px",border:"1px solid #2FA7FF",borderRadius:"3px"}}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"eMail Address"),h.a.createElement("input",{ref:e=>this.txt_email=e,name:"email",type:"email",value:this.state.new_user.email,onChange:e=>{const t=this.state.new_user;t.email=e.currentTarget.value,this.setState({new_user:t})},style:{width:"250px",height:"35px",border:"1px solid #2FA7FF",borderRadius:"3px"}})),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Cell No."),h.a.createElement("input",{ref:e=>this.txt_cell=e,name:"cell",type:"text",value:this.state.new_user.cell,onChange:e=>{const t=this.state.new_user;t.cell=e.currentTarget.value,this.setState({new_user:t})},style:{width:"250px",height:"35px",border:"1px solid #2FA7FF",borderRadius:"3px"}}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement($,{style:{width:"200px",height:"85px"},onClick:()=>this.signup()},"Signup")),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("p",{style:{textAlign:"right",color:"#fff"}},"Already have an account?"),h.a.createElement(G,{style:{float:"right"},onClick:()=>this.showLogin()},"Login")))))))}}ve.propTypes={dispatch:g.a.func.isRequired,changeTab:g.a.func.isRequired,setLoading:g.a.func.isRequired};var ye=Object(R.compose)(Object(b.connect)(()=>({})),ge)(ve),_e=({image:e})=>{const t={backgroundImage:`url(${e})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 60%"};return h.a.createElement("div",{className:"slide",style:t})},Ee=({id:e,active:t,dotClick:n})=>{const a=t?"dot active":"dot";return h.a.createElement("div",{className:a,onClick:()=>n(e)})},xe=({index:e,images:t,dotClick:n,visible:a})=>{if(!a)return null;const r=t.map((t,a)=>h.a.createElement(Ee,{key:a,id:a,active:a===e,dotClick:n}));return h.a.createElement("div",{className:"dots-container"},r)},we=({prevSlide:e,coolButtons:t})=>h.a.createElement("div",{className:t?"left-arrow cool-buttons":"left-arrow",onClick:e},h.a.createElement("img",{src:"../static/images/slider/slider-left-arrow.svg",alt:"left arrow"})),ke=({nextSlide:e,coolButtons:t})=>h.a.createElement("div",{className:t?"right-arrow cool-buttons":"right-arrow",onClick:e},h.a.createElement("img",{src:"../static/images/slider/slider-right-arrow.svg"}));n(52);n(81);const{BrowserWindow:Se}=n(7).remote,Te=n(78).get("mainWindowID"),Ce=Se.fromId(Te);class Oe extends u.Component{constructor(e){super(e),this.goToNextSlide=this.goToNextSlide.bind(this),this.goToPreviousSlide=this.goToPreviousSlide.bind(this),this.handleDotClick=this.handleDotClick.bind(this),this.state={settingsVisible:!1,autoplay:!0,translateValue:0,index:e.index}}componentDidMount(){this.state.autoplay&&window.setInterval(()=>{this.goToNextSlide()},3e3)}componentDidUpdate(){}toggleSettings(){this.setState({settingsVisible:!this.state.settingsVisible})}toggleAutoplay(){this.setState({autoplay:!this.state.autoplay})}render(){const{settingsVisible:e,autoplay:t}=this.state,{images:n,translateValue:a,showDots:r,coolButtons:o}=this.props;return h.a.createElement("div",{className:"slider"},h.a.createElement("div",{className:"slider-wrapper",style:{transform:`translateX(${this.state.translateValue}px)`,transition:"transform ease-out 0.45s"}},h.a.createElement(_e,{key:this.state.index,image:n[this.state.index]}),")"),h.a.createElement(xe,{visible:r,index:this.state.index,images:n,dotClick:this.handleDotClick}),h.a.createElement(we,{prevSlide:this.goToPreviousSlide,coolButtons:o}),h.a.createElement(ke,{nextSlide:this.goToNextSlide,coolButtons:o}))}goToNextSlide(){this.setState({index:this.state.index+1>=this.props.images.length?0:this.state.index+1})}goToPreviousSlide(){console.log(Ce.getSize()),this.setState({index:0>this.state.index-1?this.props.images.length-1:this.state.index-1})}handleDotClick(e){this.setState({index:e})}slideWidth(){document.querySelector(".slide").clientWidth}}Oe.propTypes={dispatch:g.a.func.isRequired,images:g.a.array.isRequired};var Ae=Object(b.connect)(e=>e)(Oe),Ne=n(33),Le=n.n(Ne);n(37),window.outerWidth;class je extends h.a.Component{constructor(e){super(e),this.updateData=this.updateData.bind(this),this.state={selected_item:e.defaultValue}}updateData(e){this.props.onUpdate(e)}render(){return h.a.createElement("span",null,h.a.createElement("select",{defaultValue:this.props.value?this.props.value:this.props.items[0],onKeyDown:this.props.onKeyDown,onChange:e=>{console.log("ComboBox> selected: ",e.currentTarget.value),this.updateData(e.currentTarget.value)}},this.props.items?this.props.items.map(e=>h.a.createElement("option",{key:e._id,value:this.props.label?e[this.props.label]:e},this.props.label?e[this.props.label]:e)):h.a.createElement("option",null)))}}je.propTypes={items:g.a.arrayOf(g.a.object).isRequired};var De=je;T.a.div`
  color: #fff;
  // Block Level Button
  ${e=>e.block&&"width: 100%;"}
  // Color
  ${e=>e.primary&&"\n    background: #469fe5;\n    color: white;\n  "}
  ${e=>e.success&&"\n    background: #6bbb69;\n    color: white;\n  "}
  ${e=>e.danger&&"\n    background: #EC476E;\n    color: white;\n  "}
  // Active state
  ${e=>e.active&&"\n    background: #F2F3F4;\n    color: #4F555C;\n  "}
  // Hover
  &:hover {
    cursor: pointer;
    text-decoration: none;
    color: red;
  }
`;const Ie=T.a.div`
  color: #fff;
  // Hover
  &:hover {
    cursor: pointer;
    color: red;
  }
`;i.propTypes={danger:g.a.bool,onClick:g.a.func,primary:g.a.bool,success:g.a.bool},i.defaultProps={primary:!1,success:!1,danger:!1};var Re=i;class Fe extends h.a.Component{constructor(e){super(e),this.state={new_booking:qe()}}render(){return h.a.createElement("div",{style:{float:"left",width:"600px",backgroundColor:"rgba(0,0,0,.9)",boxShadow:"0px 0px 35px #000",borderRadius:"10px",zIndex:100,padding:"15px"},hidden:!this.props.popover_visible},h.a.createElement("div",{style:{paddingTop:"1px",width:"100%"}},h.a.createElement("div",{style:{width:"10px",height:"20px",float:"right",margin:"-18px -8px 0px 0px"}},h.a.createElement(Re,{className:"ion-close-circled",onClick:()=>this.props.setTripBookingFormVisible(!1)}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Pickup Address"),h.a.createElement("input",{id:"pickup_location",name:"pickup_location",type:"text",value:this.state.new_booking.pickup_location,onChange:e=>{const t=this.state.new_booking;t.pickup_location=e.currentTarget.value,this.setState({new_booking:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}})),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Destination Address"),h.a.createElement("input",{id:"destination",name:"destination",type:"text",value:this.state.new_booking.destination,onChange:e=>{const t=this.state.new_booking;t.destination=e.currentTarget.value,this.setState({new_booking:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Number of Adults"),h.a.createElement("input",{id:"adult_count",name:"adult_count",type:"number",value:this.state.new_booking.adult_count,onChange:e=>{const t=this.state.new_booking;t.adult_count=e.currentTarget.value,this.setState({new_booking:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}})),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Number of Children"),h.a.createElement("input",{id:"child_count",name:"child_count",type:"number",value:this.state.new_booking.children_count,onChange:e=>{const t=this.state.new_booking;t.children_count=e.currentTarget.value,this.setState({new_booking:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Date Scheduled"),h.a.createElement("input",{name:"date_scheduled",type:"date",onChange:e=>{console.log(e.currentTarget.value);const t=this.state.new_booking;t.scheduled_date=new Date(e.currentTarget.value),t.date_scheduled=t.scheduled_date.getTime(),this.setState({new_booking:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}})),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Trip-Type"),h.a.createElement("div",null,h.a.createElement(De,{items:Ue,label:"type_name",onUpdate:e=>{const t=JSON.parse(e),n=this.state.new_booking;n.trip_type=t.type_name,this.setState({new_booking:n})}})))),h.a.createElement("div",{className:"row",hidden:this.state.new_booking.trip_type!=Ue[1].type_name},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Return Date"),h.a.createElement("input",{name:"return_date",type:"date",onChange:e=>{const t=this.state.new_booking;t.date_returned=new Date(e.currentTarget.value),t.return_date=t.scheduled_date.getTime(),this.setState({new_booking:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}}))),h.a.createElement("div",{className:"row"},h.a.createElement(z.a,{primary:!0,style:{width:"140px",height:"60px",marginLeft:"37%"},onClick:()=>{if(this.props.setLoading(!0),!this.state.new_booking.pickup_location)return this.props.setLoading(!1),this.props.dispatch(f.b("danger","Invalid pickup address."));if(!this.state.new_booking.destination)return this.props.setLoading(!1),this.props.dispatch(f.b("danger","Invalid destination address."));if(0>=this.state.new_booking.adult_count&&0>=this.state.new_booking.children_count)return this.props.setLoading(!1),this.props.dispatch(f.b("danger","Children or adult count must be greater than 0."));if(0>=this.state.new_booking.date_scheduled)return this.props.setLoading(!1),this.props.dispatch(f.b("danger","Invalid scheduled date."));if(!this.state.new_booking.trip_type)return this.props.setLoading(!1),this.props.dispatch(f.b("danger","Invalid trip type."));if(this.state.new_booking.trip_type==Ue[1].type_name&&0>=this.state.new_booking.return_date)return this.props.setLoading(!1),this.props.dispatch(f.b("danger","Invalid return date."));const e=this;console.log("verbose_info: putting ",this.state.new_booking),H.k(this.props.dispatch,H.f,this.state.new_booking,"/bookings/trips","trip_bookings").then(t=>{console.log("response data: "+t),e.props.setTripBookingFormVisible(!1),e.props.dispatch(f.b("success","Successfully created your trip booking! We'll get back to you soon.")),e.props.setLoading(!1)}).catch(t=>{console.log("error: ",t),e.props.dispatch(f.b("danger",t.message)),e.props.setLoading(!1)})}},"Create")))}}const Ue=[{type_name:"One-Way"},{type_name:"Return"}],qe=()=>({client_id:null,pickup_location:null,destination:null,date_scheduled:0,return_date:0,trip_type:Ue[0].type_name,date_driver_assigned:0,adult_count:0,children_count:0,creator:Y.a.getSessionUser()?Y.a.getSessionUser().usr:null,authoriser:null,status:0,date_logged:(new Date).getTime(),notes:null});class Be extends h.a.Component{constructor(e){super(e),this.getAllAccommodationDestinations=this.getAllAccommodationDestinations.bind(this),this.filter_container={},this.state={new_booking:Me(),accommodationDestinations:[],is_loading_destinations:!0,selected_filters:[]}}getAllAccommodationDestinations(e){const{setState:t}=this;this.props.dispatch({type:v.i,callback:e})}componentDidUpdate(){this.filters_container&&0<this.filters_container.childElementCount&&this.filters_container.lastElementChild.scrollIntoView({behavior:"smooth"})}render(){const e=["name","description","cost_per_night_adults","cost_per_night_children","country","state_province","city","town","street","unit_number","zip_code","rating"];return h.a.createElement("div",null,h.a.createElement("div",{style:{float:"right",width:"600px",backgroundColor:"rgba(0,0,0,.9)",boxShadow:"0px 0px 35px #000",borderRadius:"10px",zIndex:100,padding:"15px",margin:"-120px 0px 0px 0px"},hidden:!this.props.popover_visible},h.a.createElement("div",{style:{paddingTop:"1px",width:"100%"}},h.a.createElement("div",{style:{width:"10px",height:"20px",float:"right",margin:"-18px -8px 0px 0px"}},h.a.createElement(Re,{className:"ion-close-circled",onClick:()=>this.props.setAccommodationBookingFormVisible(!1)}))),h.a.createElement("h1",{style:{textAlign:"center",color:"#fff"}},"Accommodation Search"),h.a.createElement("h2",{style:{textAlign:"center",color:"#fff"}},"Filters"),h.a.createElement("div",{ref:e=>this.filters_container=e,className:"row",style:{border:"1px solid #fff",borderRadius:"5px",maxHeight:"170px",overflowY:"scroll",boxShadow:"inset 0px 0px 15px #fff"}},this.state.selected_filters.map((t,n)=>h.a.createElement("div",{key:t.name+"_"+t.value,className:"pageItem col-md-6",style:{background:"rgba(255,255,255,.7)",borderRadius:"5px",border:"5px solid #343434",padding:"5px",marginTop:"15px"},ref:e=>this.filter_container[t.name+"_"+t.value]=e},h.a.createElement("div",{style:{paddingTop:"1px",width:"100%"}},h.a.createElement("div",{style:{width:"10px",height:"20px",float:"right",margin:"-11px -0px 0px 0px"}},h.a.createElement(Re,{className:"ion-close-circled",onClick:()=>{console.log("selected filters BEFORE removal: ",this.state.selected_filters);let e=this.state.selected_filters.slice();e.splice(n,1),this.setState({selected_filters:e}),console.log("selected filters AFTER removal: ",this.state.selected_filters)}}))),h.a.createElement(De,{items:e,style:{paddingTop:"10px"},value:t.name,onUpdate:e=>{t.name=e}}),h.a.createElement("input",{type:"text",style:{marginTop:"10px"},defaultValue:t.value,onChange:e=>t.value=e.currentTarget.value})))),h.a.createElement("div",{className:"row"},h.a.createElement("button",{className:"btn btn-primary",style:{width:"175px",height:"50px",margin:"15px auto 0px auto"},onClick:()=>{let t=this.state.selected_filters.slice();var n=0;let a={name:e[n],value:""};for(;0<t.filter(e=>e.name===a.name).length&&n+1<e.length;)n++,a.name=e[n],console.log("filter has been used, trying filter: ",a);console.log("settled on filter: ",a),0==t.filter(e=>e.name===a.name).length?(t.push(a),this.setState({selected_filters:t})):alert("filter already exists in list.")}},h.a.createElement("span",{className:"ion-plus"}),"Add Search Filter")),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Check-in"),h.a.createElement("input",{name:"date_scheduled",type:"date",onChange:e=>{const t=this.state.new_booking;t.scheduled_date=new Date(e.currentTarget.value),t.date_scheduled=t.scheduled_date.getTime(),this.setState({new_booking:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}})),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Check-out"),h.a.createElement("input",{name:"return_date",type:"date",onChange:e=>{const t=this.state.new_booking;t.date_returned=new Date(e.currentTarget.value),t.return_date=t.date_returned.getTime(),this.setState({new_booking:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Number of Adults"),h.a.createElement("input",{id:"adult_count",name:"adult_count",type:"number",value:this.state.new_booking.adult_count,onChange:e=>{const t=this.state.new_booking;t.adult_count=e.currentTarget.value,this.setState({new_booking:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}})),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Number of Children"),h.a.createElement("input",{id:"child_count",name:"child_count",type:"number",value:this.state.new_booking.children_count,onChange:e=>{const t=this.state.new_booking;t.children_count=e.currentTarget.value,this.setState({new_booking:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}}))),h.a.createElement("div",{className:"row"},h.a.createElement("button",{className:"btn btn-success",style:{width:"140px",height:"60px",marginLeft:"37%"},onClick:()=>{if(this.props.setLoading(!0),0<!this.state.selected_filters.length)return this.props.setLoading(!1),this.props.dispatch(f.b("danger","Please choose at least one valid search filter"));if(0>=this.state.new_booking.date_scheduled)return this.props.setLoading(!1),this.props.dispatch(f.b("danger","Invalid check-in date."));if(0>=this.state.new_booking.return_date)return this.props.setLoading(!1),this.props.dispatch(f.b("danger","Invalid check-out date."));if(this.state.new_booking.return_date<this.state.new_booking.date_scheduled)return this.props.setLoading(!1),this.props.dispatch(f.b("danger","Invalid check-out date - cannot be before check-in date."));if(0>=this.state.new_booking.adult_count&&0>=this.state.new_booking.children_count)return this.props.setLoading(!1),this.props.dispatch(f.b("danger","Children or adult count must be greater than 0."));const e=this,t=this.state.selected_filters.map(e=>e.name+"="+encodeURI(e.value)).join("+");console.log("encoded filter:",t),H.h("/destinations/"+t).then(t=>{e.props.setLoading(!1),console.log("response data: ",t),e.setState({accommodationDestinations:t?t.data:[],is_loading_destinations:!1}),console.log("destinations: ",this.state.accommodationDestinations)}).catch(t=>{e.props.setLoading(!1),console.log("error: ",t),e.props.dispatch(f.b("danger","Error: "+t.message))})}},"Search"))),h.a.createElement("div",{style:{float:"left",width:"600px",backgroundColor:"rgba(0,0,0,.9)",boxShadow:"0px 0px 35px #000",borderRadius:"10px",zIndex:100,padding:"15px",margin:"-120px 20px 0px 0px"},hidden:!this.props.popover_visible},h.a.createElement("div",{className:"row"},this.state.accommodationDestinations.map(e=>h.a.createElement("div",{className:"pageItem col-lg-6",style:{}},h.a.createElement("div",{style:{width:"90%",borderRadius:"5px",border:"2px solid #3c3c3c",background:"rgba(255,255,255,.4)",padding:"5px",margin:"auto"}},h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Name: ",e.name),h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Summary:"),h.a.createElement("p",{textAlign:"center"},e.description),h.a.createElement("p",{style:{color:"#000",textAlign:"center"}},"Cost per night"),h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Adults: ",e.currency," ",e.cost_per_night_adults),h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Children: ",e.currency," ",e.cost_per_night_children),h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Address:"),h.a.createElement("p",{textAlign:"center"},e.unit_number," ",e.street,",",e.town,",",e.city,",",e.state_province,",",h.a.createElement("br",null),e.country,h.a.createElement("br",null),e.zip_code),h.a.createElement("label",{className:"itemLabel",style:{color:"#fff"}},"Rating: ",e.rating),h.a.createElement("button",{className:"btn btn-success",style:{width:"120px",height:"50px",margin:"auto"}},"Book")))))))}}Be.propTypes={dispatch:g.a.func.isRequired,changeTab:g.a.func.isRequired,setAccommodationBookingFormVisible:g.a.func.isRequired},Object(R.compose)(Object(b.connect)(),ge)(Be);const Me=()=>({accommodation_id:null,client_id:null,date_scheduled:0,return_date:0,adult_count:0,children_count:0,creator:Y.a.getSessionUser()?Y.a.getSessionUser().usr:null,authoriser:null,status:0,date_logged:(new Date).getTime(),notes:null});var Pe=n(34);const ze=T.a.div`
float: left;
width: 90px;
height: 115%;
background: url(../static/images/profile_minimal.png);
background-size: fill;
background-repeat: no-repeat;
&:hover
{
  background: url(../static/images/profile.png);
  background-size: fill;
  background-repeat: no-repeat;
}
`;n(77);const Ve=["../static/images/slider/1.jpg","../static/images/slider/2.jpg","../static/images/slider/3.jpg"],Ge=(n(37),{content:{top:"15%",left:"7%",right:"auto",bottom:"auto",border:"2px solid black",minWidth:window.outerWidth-160}});class We extends u.Component{constructor(e){super(e),this.setTripBookingFormVisible=this.setTripBookingFormVisible.bind(this),this.setAccommodationBookingFormVisible=this.setAccommodationBookingFormVisible.bind(this),this.showMessageDialog=this.showMessageDialog.bind(this),this.state={trip_booking_popover_visible:!1,accommodation_booking_popover_visible:!1,message_dialog_visible:!1,profile_menu_visible:!1,new_message:{subject:null,message:null,receiver:null,creator:null,date_logged:(new Date).getTime()}}}setTripBookingFormVisible(e){this.setState({trip_booking_popover_visible:e,accommodation_booking_popover_visible:!1})}setAccommodationBookingFormVisible(e){this.setState({accommodation_booking_popover_visible:e,trip_booking_popover_visible:!1})}showMessageDialog(){this.setState({message_dialog_visible:!0})}openModal(){this.setState({is_modal_open:!0})}afterOpenModal(){}closeModal(){this.setState({is_modal_open:!1})}render(){const e=h.a.createElement(Le.a,{isOpen:this.state.message_dialog_visible,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,style:Ge,contentLabel:"New Message"},h.a.createElement("h2",{ref:e=>this.subtitle=e,style:{color:"black"}},"New Message"),h.a.createElement("div",null,h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-sm-12"},h.a.createElement("label",{className:"itemLabel"},"To:"),h.a.createElement("input",{ref:e=>this.txt_subject=e,name:"recipient",type:"text",onChange:e=>{const t=this.state.new_message;t.subject=e.currentTarget.value,this.setState({new_message:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-sm-12"},h.a.createElement("label",{className:"itemLabel"},"Subject"),h.a.createElement("input",{ref:e=>this.txt_subject=e,name:"subject",type:"text",onChange:e=>{const t=this.state.new_message;t.subject=e.currentTarget.value,this.setState({new_message:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-sm-12"},h.a.createElement("label",{className:"itemLabel"},"Message"),h.a.createElement("textarea",{name:"message",ref:e=>this.txt_message=e,onChange:e=>{const t=this.state.new_message;t.message=e.currentTarget.value,this.setState({new_message:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px",width:"100%"}}))),h.a.createElement(z.a,{onClick:this.closeModal,style:{width:"120px",height:"50px",float:"right"},danger:!0},"Dismiss"),h.a.createElement(z.a,{onClick:()=>{if(sessionManager.getSessionUser().access_level<=GlobalConstants.ACCESS_LEVELS[1].level)return void this.props.dispatch({type:v.N,payload:{type:"danger",message:"You are not authorised to create quotes."}});this.props.setLoading(!0),this.setState({is_new_quote_modal_open:!1});const e=this.state.new_quote;if(!e.client)return this.props.setLoading(!1),this.setState({is_new_quote_modal_open:!0}),this.props.dispatch({type:v.N,payload:{type:"danger",message:"Invalid client selected"}});if(!e.contact)return this.props.setLoading(!1),this.setState({is_new_quote_modal_open:!0}),this.props.dispatch({type:v.N,payload:{type:"danger",message:"Invalid contact person selected"}});if(!e.sitename)return this.props.setLoading(!1),this.setState({is_new_quote_modal_open:!0}),this.props.dispatch({type:v.N,payload:{type:"danger",message:"Invalid sitename"}});if(!e.request)return this.props.setLoading(!1),this.setState({is_new_quote_modal_open:!0}),this.props.dispatch({type:v.N,payload:{type:"danger",message:"Error: Invalid quote description"}});const t=e.client.client_name.toString();e.object_number=this.props.quotes.length,e.client_name=t,e.client_id=e.client._id,e.contact_person=e.contact.name,e.contact_person_id=e.contact.usr,e.status=statuses[0].status,e.status_description=statuses[0].status_description,e.revision=1,e.account_name=t.toLowerCase().replace(" ","-"),e.creator_name=sessionManager.getSessionUser().name,e.creator=sessionManager.getSessionUser().usr,e.creator_employee=sessionManager.getSessionUser(),e.date_logged=(new Date).getTime(),e.logged_date=formatDate(new Date);const n=this;this.props.dispatch({type:v.C,payload:e,callback(e){n.props.setLoading(!1),n.setState({is_new_quote_modal_open:!1}),n.props.quotes.push(e),n.setState({new_quote:n.newQuote(),is_new_quote_modal_open:!1})}})},style:{width:"120px",height:"50px",float:"left"},success:!0},"Send")));return h.a.createElement(de,null,h.a.createElement(pe,null,h.a.createElement(ue,null,"MVG | Home"),h.a.createElement(he,{ref:this.header_actions},h.a.createElement("div",{style:{display:"inline",float:"right",marginTop:"-30px",paddingRight:"100px",borderBottom:"2px",borderColor:"black"}}))),h.a.createElement(me,null,h.a.createElement("div",{style:{position:"fixed",width:"100%",height:"80px",left:"0px",backgroundColor:"rgba(0,0,0,.4)",zIndex:100}},h.a.createElement(ze,{style:{marginTop:"-7px"},onClick:()=>this.setState({profile_menu_visible:!this.state.profile_menu_visible})}),h.a.createElement("label",{style:{fontSize:"26pt",marginLeft:"30px",marginTop:"15px",color:"#fff"}},"John Doe"),h.a.createElement("div",{style:{backgroundColor:"lime"}},h.a.createElement("div",{style:{width:"170px",height:"80px",float:"right",marginRight:"40px",marginTop:"-67px",background:"url(../static/images/logo.png)",backgroundSize:"contain",backgroundRepeat:"no-repeat"}})),h.a.createElement("div",{style:{position:"fixed",left:"15px",top:"110px",backgroundColor:"rgba(0,0,0,.9)",padding:"10px",borderRadius:"10px",boxShadow:"0px 0px 15px #000",zIndex:1e3,border:"1px solid #000"},hidden:!this.state.profile_menu_visible},h.a.createElement(z.a,{primary:!0,style:{width:"200px",height:"30px"},onClick:()=>this.props.changeTab("trip-bookings")},"Trip Bookings"),h.a.createElement("br",null),h.a.createElement(z.a,{primary:!0,style:{width:"200px",height:"30px",marginTop:"15px"},onClick:()=>this.props.changeTab("accommodation-bookings")},"Accommodation Bookings"),h.a.createElement("br",null),h.a.createElement(z.a,{primary:!0,style:{width:"200px",height:"30px",marginTop:"15px"},onClick:()=>this.showMessageDialog()},"Send Message"),h.a.createElement("br",null),h.a.createElement(z.a,{primary:!0,style:{width:"200px",height:"30px",marginTop:"15px"},onClick:()=>this.props.changeTab("settings")},"Settings"))),h.a.createElement("div",{style:{position:"fixed",top:"30%",right:"100px",borderRadius:"10px",zIndex:100}},h.a.createElement(Fe,{style:{margin:"0px 0px 0px 0px"},setTripBookingFormVisible:this.setTripBookingFormVisible,popover_visible:this.state.trip_booking_popover_visible,setLoading:this.props.setLoading,dispatch:this.props.dispatch}),h.a.createElement(Be,{style:{margin:"0px 0px 0px 0px"},setAccommodationBookingFormVisible:this.setAccommodationBookingFormVisible,popover_visible:this.state.accommodation_booking_popover_visible,setLoading:this.props.setLoading,dispatch:this.props.dispatch}),h.a.createElement("div",{style:{display:this.state.trip_booking_popover_visible||this.state.accommodation_booking_popover_visible?"none":"inline-block"}},h.a.createElement(z.a,{primary:!0,style:{width:"140px",height:"60px"},onClick:()=>{this.setTripBookingFormVisible(!this.state.trip_booking_popover_visible)}},"Transport"),h.a.createElement("br",null),h.a.createElement(z.a,{primary:!0,style:{width:"140px",height:"60px",marginTop:"20px"},ref:e=>this.btnAccommodation=e,onClick:()=>{this.setAccommodationBookingFormVisible(!this.state.accommodation_booking_popover_visible)}},"Accommodation"),h.a.createElement("br",null),h.a.createElement(z.a,{primary:!0,style:{width:"140px",height:"60px",marginTop:"20px"},onClick:()=>{}},"Experiences"))),h.a.createElement("div",{style:{marginTop:"-50px",width:"100%",height:"97vh"}},h.a.createElement(Ae,{images:Ve,coolButtons:!0,showDots:!0,index:0})),e))}}We.propTypes={dispatch:g.a.func.isRequired,changeTab:g.a.func.isRequired,accommodationDestinations:g.a.array.isRequired};var $e=Object(R.compose)(Object(b.connect)(e=>({accommodationDestinations:Object(Pe.b)(e)})),ge)(We),He=n(40),Ye=n(38),Ke=n(39);const Je=e=>e.getFullYear()+"-"+(10<=e.getMonth()?e.getMonth():"0"+e.getMonth())+"-"+(10<=e.getDate()?e.getDate():"0"+e.getDate());n(59),n(58);const Qe=[{level:0,title:"No access"},{level:1,title:"Standard Access"},{level:2,title:"Admin Access"},{level:3,title:"Root access"}];var Xe=n(49),Ze=(n(51),n(32)),et=n(57),tt=n.n(et),nt=n(47);const at=n(75),rt=n(62),ot=n(74),it=n(28);var st=n(7);const lt={flex:"1",background:"#F9FAFA",border:"2px dashed #469FE5k",borderRadius:"4px",marginBottom:"20px",display:"flex",alignItems:"center",justifyContent:"center",margin:"-20px"},ct={drop(e,t){e.onDrop&&e.onDrop(e,t)}};class dt extends u.Component{shouldComponentUpdate(){return!0}render(){const{canDrop:e,isOver:t,connectDropTarget:n}=this.props;return n(h.a.createElement("div",{style:lt},e&&t?"Release to drop":"Drag file here"))}}dt.propTypes={connectDropTarget:g.a.func.isRequired,isOver:g.a.bool.isRequired,canDrop:g.a.bool.isRequired,accepts:g.a.arrayOf(g.a.string).isRequired,onDrop:g.a.func};var pt=Object(nt.DropTarget)(e=>e.accepts,ct,(e,t)=>({connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}))(dt);const ut=T.a.div`
  position: relative;
  height: 200px;
  width: 200px;
  padding: 20px;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 4px;
  display: flex;
  justify-content: center;
  align-items: center;
`,ht=T.a.div`
  max-width: 160px;
  max-height: 160px;
  display: flex;
  img {
    max-width: 180px;
    width: 100%;
    height: auto;
  }
`,mt=T.a.a`
  position: absolute;
  top: -15px;
  right: -15px;
  font-size: 32px;
  color: red;
  line-height: 32px;
  i {
    color: #ec476e;
  }
  &:hover {
    cursor: pointer;
  }
`,gt=T.a.div`
  display: flex;
  height: 100%;
  width: 100%;
  flex-direction: column;
`,bt=T.a.a`
  position: absolute;
  bottom: 20px;
  width: 80%;
  background: #469fe5;
  border-radius: 4px;
  padding: 4px 8px;
  text-align: center;
  color: white !important;
  text-transform: uppercase;
  font-size: 12px;
  letter-spacing: 1px;
  &:hover {
    cursor: pointer;
  }
`;class ft extends u.Component{constructor(e){super(e),this.selectLogo=this.selectLogo.bind(this),this.removeLogo=this.removeLogo.bind(this),this.handleFileDrop=this.handleFileDrop.bind(this)}componentDidMount(){st.ipcRenderer.on("file-selected",(e,t)=>{this.handleFileUpload(t)})}shouldComponentUpdate(e){return this.props.logo!==e.logo}componentWillUnmount(){st.ipcRenderer.removeAllListeners("file-selected")}handleFileUpload(e){s(e,e=>{this.props.handleLogoChange(e)})}handleFileDrop(e,t){if(t){const e=t.getItem().files[0].path;this.handleFileUpload(e)}}selectLogo(){st.ipcRenderer.send("open-file-dialog")}removeLogo(){this.props.handleLogoChange(null)}render(){const{FILE:e}=et.NativeTypes;return h.a.createElement(ut,null,this.props.logo?h.a.createElement(ht,null,h.a.createElement("img",{src:this.props.logo,alt:"Logo"}),h.a.createElement(mt,{onClick:this.removeLogo},h.a.createElement("i",{className:"ion-android-cancel"}))):h.a.createElement(gt,null,h.a.createElement(pt,{accepts:[e],selectLogo:this.selectLogo,onDrop:this.handleFileDrop}),h.a.createElement(bt,{onClick:this.selectLogo},"Or Select Photo")))}}ft.propTypes={handleLogoChange:g.a.func.isRequired,logo:g.a.string},ft.defaultProps={logo:null};var vt=Object(nt.DragDropContext)(tt.a)(ft);const yt=[{status:0,status_description:"pending, awaiting confirmation"},{status:1,status_description:"confirmed/ready"},{status:2,status_description:"complete"},{status:3,status_description:"cancelled"}],_t=[{status:0,status_description:"pending, awaiting confirmation"},{status:1,status_description:"confirmed/ready"},{status:2,status_description:"complete"},{status:3,status_description:"cancelled"}],Et=n(28),xt=n(7).ipcRenderer;class wt extends h.a.Component{constructor(e){super(e),this.date_scheduled_picker=h.a.createRef(),this.state={column_toggles_top:-200}}componentDidMount(){xt.on("confirmed-delete-booking",(e,t,n)=>{0===t&&this.confirmedDeleteBooking(n)})}componentWillUnmount(){xt.removeAllListeners("confirmed-delete-booking")}deleteBooking(e){Et({type:"warning",title:"Confirm Delete",message:"Are you sure you want to delete this record?",buttons:["Yes","No"]},"confirmed-delete-booking",e)}showBookingPreview(e){xt.send("preview-booking",e)}confirmedDeleteBooking(){const{dispatch:e}=this.props}setBookingStatus(e,t){alert("set status to: "+t);const{dispatch:n}=this.props}handleBookingUpdate(e){const{dispatch:t,setLoading:n}=this.props;Object(K.a)("verbose_info","updating booking: "+e),t({type:v.L,payload:e,callback(e,a){n(!1),t(e?f.b("success","Successfully updated trip booking."):f.b("danger","Could NOT successfully update trip booking:\n "+a))}})}render(){const{tripBookings:e}=this.props;return h.a.createElement(me,{bare:!0},h.a.createElement("div",{style:{maxHeight:"auto"}},h.a.createElement("h2",{style:{textAlign:"center"}},"List of trip bookings"),h.a.createElement("div",{className:"row"},0===this.props.tripBookings.length?h.a.createElement(Ze.a,{danger:!0,text:"No bookings were found in the system",style:{marginTop:"145px"}}):e.map(e=>h.a.createElement("div",{className:"col-lg-6 col-md-12"},h.a.createElement("div",{style:{width:"84%",marginTop:"10px",backgroundColor:"rgba(0, 0, 0, .5)",minHeight:e.trip_type===Ue[1].type_name?"465px":"430px",borderRadius:"10px",padding:"6px",border:"2px solid #3c3c3c"}},h.a.createElement("table",null,h.a.createElement("tbody",null,h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement("p",null,"From:")),h.a.createElement("td",null,h.a.createElement("input",{type:"text",value:e.pickup_location,onChange:t=>{e.pickup_location=t.currentTarget.value,console.log("pickup_location: ",t.currentTarget.value),this.setState({})},onKeyPress:t=>{"Enter"==t.key&&(this.props.setLoading(!0),this.handleBookingUpdate(e))}}))),h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement("p",null,"To:")),h.a.createElement("td",null,h.a.createElement("input",{type:"text",value:e.destination,onChange:t=>{e.destination=t.currentTarget.value,console.log("destination: ",t.currentTarget.value),this.setState({})},onKeyPress:t=>{"Enter"==t.key&&(this.props.setLoading(!0),this.handleBookingUpdate(e))}}))),h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement("p",null,"Trip Type:")),h.a.createElement("td",null,h.a.createElement(De,{items:Ue,label:"type_name",value:e.trip_type,onUpdate:t=>{console.log("selected trip type: ",t),this.props.setLoading(!0),e.trip_type=t,this.setState({}),this.handleBookingUpdate(e)}}))),h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement("p",null,"Date Scheduled:")),h.a.createElement("td",null,h.a.createElement("input",{ref:t=>this["scheduled_date_"+e._id]=t,type:"date",defaultValue:Je(new Date(e.date_scheduled)),onChange:t=>{if(this.props.setLoading(!0),!t.currentTarget.value)return this.props.setLoading(!1),console.log("Error: Invalid date. Scheduled date has to be in the future.");const n=new Date(t.currentTarget.value),a=new Date(n.getFullYear(),n.getMonth()+1,n.getDate());return n.getTime()<=(new Date).getTime()?(this.props.setLoading(!1),this.props.dispatch(f.b("danger","Error: date has to be in the future."))):e.trip_type==Ue[1].type_name&&a.getTime()>new Date(e.return_date).getTime()?(this.props.setLoading(!1),this.props.dispatch(f.b("danger","Error: Scheduled date cannot be after the return date."))):(e.date_scheduled=a.getTime(),this["scheduled_date_"+e._id].value=Je(a),this.setState({}),void this.handleBookingUpdate(e))}}))),h.a.createElement("tr",{hidden:e.trip_type==Ue[0].type_name},h.a.createElement("td",null,h.a.createElement("p",null,"Return Date:")),h.a.createElement("td",null,h.a.createElement("input",{ref:t=>this["return_date_"+e._id]=t,type:"date",defaultValue:Je(new Date(e.return_date)),onChange:t=>{if(!t.currentTarget.value)return this.props.setLoading(!1),console.log("Error: Invalid date. Return date has to be in the future.");const n=new Date(t.currentTarget.value),a=new Date(n.getFullYear(),n.getMonth()+1,n.getDate());return a.getTime()<=(new Date).getTime()?(this.props.setLoading(!1),this.props.dispatch(f.b("danger","Error: date has to be in the future."))):a.getTime()<new Date(e.date_scheduled).getTime()?(this.props.setLoading(!1),this.props.dispatch(f.b("danger","Error: Return date cannot be before the scheduled date."))):(this.props.setLoading(!0),e.return_date=a.getTime(),this["return_date_"+e._id].value=Je(a),this.setState({}),void this.handleBookingUpdate(e))}}))),h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement("p",null,"Adult Count:")),h.a.createElement("td",null,h.a.createElement("input",{type:"number",defaultValue:e.adult_count,onChange:t=>{console.log("adult count: ",t.currentTarget.value),this.props.setLoading(!0),e.adult_count=t.currentTarget.value,this.setState({}),this.handleBookingUpdate(e)}}))),h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement("p",null,"Children Count:")),h.a.createElement("td",null,h.a.createElement("input",{type:"number",defaultValue:e.children_count,onChange:t=>{console.log("children count: ",t.currentTarget.value),this.props.setLoading(!0),e.children_count=t.currentTarget.value,this.setState({}),this.handleBookingUpdate(e)}}))),h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement("p",null,"Date Logged:")),h.a.createElement("td",null,h.a.createElement("p",{style:{color:"#fff"}},e.logged_date))),h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement("p",null,"Status:")),h.a.createElement("td",null,h.a.createElement("p",{style:{color:3==e.status?"red":1==e.status||2==e.status?"lime":"#fff"}},yt[e.status].status_description))))),h.a.createElement("button",{className:"btn btn-success",style:{width:"150px",height:"70px",float:"left"},onClick:()=>{this.props.setLoading(!0),e.status=yt[1].status,this.handleBookingUpdate(e),this.setState({})}},"Confirm"),h.a.createElement("button",{className:"btn btn-danger",style:{width:"120px",height:"50px",float:"right"},onClick:()=>{this.props.setLoading(!0),e.status=yt[3].status,this.handleBookingUpdate(e),this.setState({})}},"Cancel")))))))}}wt.propTypes={dispatch:g.a.func.isRequired,tripBookings:g.a.arrayOf(g.a.object).isRequired};var kt=Object(R.compose)(Object(b.connect)(e=>({tripBookings:Object(Xe.b)(e)})),ge)(wt);const St=T.a.div`
  display: flex;
  justify-content: flex-start;
  border-top: 1px solid rgba(0,0,0,.6);
  border-bottom: 1px solid rgba(0,0,0,.4);
  box-shadow: 0px 0px 9px #3c3c3c;
  margin-top: 23px;
`,Tt=T.a.a`
  min-width: 100px;
  tex-align: center;
  background: #f9fbfa;
  text-decoration: none;
  color: #292b2c;
  font-weight: 400;
  font-size: 16px;
  border-right: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 3px solid rgba(0, 0, 0, 0.1);
  padding: 6px 12px;
  &:last-child {
    border-right: 1px solid rgba(0, 0, 0, 0.1);
  }
  &.active {
    background: #fff;
    border-bottom: 2px solid rgba(10, 200, 30, .7);
  }
  &:hover {
    background: rgba(0, 0, 0, .3);
    border-bottom: 2px solid #2FA7FF;
    text-decoration: none;
    color: #292b2c;
  }
`,Ct=T.a.div`
  padding: 40px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  margin-top: -1px;
  border-top-left-radius: 0;
  background-color: #fff;
`,Ot=e=>h.a.createElement(Tt,e,e.children),At=e=>h.a.createElement(Ct,null,e.children),Nt=e=>h.a.createElement(St,null,e.children);class Lt extends u.Component{constructor(e){super(e),this.state={visibleTab:"Trips"},this.header_actions=h.a.createRef()}componentDidMount(){this.props.dispatch(Z.b())}render(){return h.a.createElement(de,null,h.a.createElement(pe,null,h.a.createElement(ue,null,"Bookings | ",this.state.visibleTab),h.a.createElement(he,null,h.a.createElement("div",{style:{display:"inline",float:"right",marginTop:"-30px",paddingRight:"100px",borderBottom:"2px",borderColor:"black"}},h.a.createElement(z.a,{success:!0,onClick:()=>this.props.changeTab("home")},"Home")))),h.a.createElement(me,null,h.a.createElement(kt,{setLoading:this.props.setLoading})))}}Lt.propTypes={dispatch:g.a.func.isRequired,changeTab:g.a.func.isRequired,users:g.a.arrayOf(g.a.object).isRequired,materials:g.a.arrayOf(g.a.object).isRequired,clients:g.a.arrayOf(g.a.object).isRequired};var jt=Object(R.compose)(Object(b.connect)(e=>({users:Object(He.b)(e),clients:Object(Ke.b)(e),materials:Object(Ye.b)(e)})),ge)(Lt),Dt=n(48);const It=n(28),Rt=n(7).ipcRenderer;window.outerWidth;class Ft extends h.a.Component{constructor(e){super(e),this.date_scheduled_picker=h.a.createRef(),this.state={column_toggles_top:-200}}componentDidMount(){Rt.on("confirmed-delete-booking",(e,t,n)=>{0===t&&this.confirmedDeleteBooking(n)})}componentWillUnmount(){Rt.removeAllListeners("confirmed-delete-booking")}deleteBooking(e){It({type:"warning",title:"Confirm Delete",message:"Are you sure you want to delete this record?",buttons:["Yes","No"]},"confirmed-delete-booking",e)}showBookingPreview(e){Rt.send("preview-booking",e)}confirmedDeleteBooking(){const{dispatch:e}=this.props}setBookingStatus(e,t){alert("set status to: "+t);const{dispatch:n}=this.props}handleBookingUpdate(e){const{dispatch:t,setLoading:n}=this.props;n(!0),Object(K.a)("verbose_info","updating booking: "+e),t({type:v.f,payload:e,callback(e,a){n(!1),t(e?f.b("success","Successfully updated accommodation booking."):f.b("danger","Could NOT successfully update accommodation booking:\n "+a))}})}render(){const e=this.props.accommodationBookings,t=Array.from(e).map(e=>h.a.createElement("div",{className:"col-lg-6 col-md-12"},h.a.createElement("div",{style:{width:"84%",marginTop:"10px",backgroundColor:"rgba(0, 0, 0, .5)",minHeight:"480px",borderRadius:"10px",padding:"6px",border:"2px solid #3c3c3c"}},h.a.createElement("table",null,h.a.createElement("tbody",null,h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement("p",null,"Accommodation:")),h.a.createElement("td",null,h.a.createElement(De,{items:this.props.accommodationDestinations,label:"name",value:e.accommodationDestination?e.accommodationDestination.name:" ",onUpdate:t=>{console.log("selected accommodation: ",t),this.props.setLoading(!0),e.accommodation_destination_id=t,this.setState({}),this.handleBookingUpdate(e)}}))),h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement("p",null,"From:")),h.a.createElement("td",null,h.a.createElement("input",{ref:t=>this["scheduled_date_"+e._id]=t,type:"date",defaultValue:Je(new Date(e.date_scheduled)),onChange:t=>{if(this.props.setLoading(!0),console.log("new scheduled date str: ",t.currentTarget.value),!t.currentTarget.value)return this.props.setLoading(!1),console.log("Error: Invalid date. Scheduled date has to be in the future.");const n=new Date(t.currentTarget.value);console.log("new scheduled date: ",n);const a=new Date(n.getFullYear(),n.getMonth()+1,n.getDate());return console.log("formatted scheduled date: ",Je(a)),n.getTime()<=(new Date).getTime()?(this.props.setLoading(!1),this.props.dispatch(f.b("danger","Error: date has to be in the future."))):a.getTime()>new Date(e.return_date).getTime()?(this.props.setLoading(!1),this.props.dispatch(f.b("danger","Error: Scheduled date cannot be after the return date."))):(e.date_scheduled=a.getTime(),this["scheduled_date_"+e._id].value=Je(a),this.setState({}),void this.handleBookingUpdate(e))}}))),h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement("p",null,"Till:")),h.a.createElement("td",null,h.a.createElement("input",{ref:t=>this["return_date_"+e._id]=t,type:"date",defaultValue:Je(new Date(e.return_date)),onChange:t=>{if(console.log("new return date str: ",t.currentTarget.value),!t.currentTarget.value)return this.props.setLoading(!1),console.log("Error: Invalid date. Return date has to be in the future.");const n=new Date(t.currentTarget.value);console.log("new return date: ",n);const a=new Date(n.getFullYear(),n.getMonth()+1,n.getDate());return console.log("formatted return date: ",Je(a)),a.getTime()<=(new Date).getTime()?(this.props.setLoading(!1),this.props.dispatch(f.b("danger","Error: date has to be in the future."))):a.getTime()<new Date(e.date_scheduled).getTime()?(this.props.setLoading(!1),this.props.dispatch(f.b("danger","Error: Return date cannot be before the scheduled date."))):(this.props.setLoading(!0),e.return_date=a.getTime(),this["return_date_"+e._id].value=Je(a),this.setState({}),void this.handleBookingUpdate(e))}}))),h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement("p",null,"Adult Count:")),h.a.createElement("td",null,h.a.createElement("input",{type:"number",defaultValue:e.adult_count,onChange:t=>{console.log("adult count: ",t.currentTarget.value),this.props.setLoading(!0),e.adult_count=t.currentTarget.value,this.setState({}),this.handleBookingUpdate(e)}}))),h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement("p",null,"Children Count:")),h.a.createElement("td",null,h.a.createElement("input",{type:"number",defaultValue:e.children_count,onChange:t=>{console.log("children count: ",t.currentTarget.value),this.props.setLoading(!0),e.children_count=t.currentTarget.value,this.setState({}),this.handleBookingUpdate(e)}}))),h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement("p",null,"Date Logged:")),h.a.createElement("td",null,h.a.createElement("p",{style:{color:"#fff"}},e.logged_date))),h.a.createElement("tr",null,h.a.createElement("td",null,h.a.createElement("p",null,"Status:")),h.a.createElement("td",null,h.a.createElement("p",{style:{color:3==e.status?"red":1==e.status||2==e.status?"lime":"#fff"}},_t[e.status].status_description))))),h.a.createElement("button",{className:"btn btn-success",style:{width:"150px",height:"70px",float:"left"},onClick:()=>{e.status=_t[1].status,this.handleBookingUpdate(e),this.setState({})}},"Confirm"),h.a.createElement("button",{className:"btn btn-danger",style:{width:"120px",height:"50px",float:"right"},onClick:()=>{e.status=_t[3].status,this.handleBookingUpdate(e),this.setState({})}},"Cancel"))));return h.a.createElement(me,{bare:!0},h.a.createElement("div",{style:{maxHeight:"auto"}},h.a.createElement("h2",{style:{textAlign:"center"}},"List of accommodation bookings"),h.a.createElement("div",{className:"row"},0===e.length?h.a.createElement(Ze.a,{danger:!0,text:"No bookings were found in the system",style:{marginTop:"145px"}}):t)))}}Ft.propTypes={dispatch:g.a.func.isRequired,setLoading:g.a.func.isRequired,accommodationBookings:g.a.arrayOf(g.a.object).isRequired,accommodationDestinations:g.a.array.isRequired};var Ut=Object(R.compose)(Object(b.connect)(e=>({accommodationBookings:Object(Dt.b)(e),accommodationDestinations:Object(Pe.b)(e)})),ge)(Ft);n(37);const qt={content:{top:"15%",left:"7%",right:"auto",bottom:"auto",border:"2px solid black",minWidth:window.outerWidth-160}};class Bt extends u.Component{constructor(e){super(e),this.openModal=this.openModal.bind(this),this.afterOpenModal=this.afterOpenModal.bind(this),this.closeModal=this.closeModal.bind(this),this.newDestination=this.newDestination.bind(this),this.state={is_new_destinaton_modal_open:!1,new_destination:this.newDestination()}}newDestination(){return{name:null,description:null,cost_per_night_adults:0,cost_per_night_children:0,country:null,state_province:null,city:null,town:null,street:null,unit_number:null,zip_code:0,status:1,status_description:"Active",gps_coords:null,rating:0,other:null}}openModal(){this.setState({is_new_destinaton_modal_open:!0})}afterOpenModal(){this.subtitle.style.color="#2FA7FF"}closeModal(){this.setState({is_new_destinaton_modal_open:!1})}render(){const e=h.a.createElement(Le.a,{isOpen:this.state.is_new_destinaton_modal_open,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,style:qt,contentLabel:"New Accommodation Destination Modal"},h.a.createElement("h2",{ref:e=>this.subtitle=e,style:{color:"black"}},"Create New Accommodation Destination"),h.a.createElement("div",null,h.a.createElement("div",{className:"pageItem"}),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Name"),h.a.createElement("input",{name:"name",type:"text",ref:e=>this.txt_name=e,onChange:e=>{const t=this.state.new_destination;t.name=e.currentTarget.value,this.setState({new_destination:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}})),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Country"),h.a.createElement("input",{name:"country",type:"text",ref:e=>this.txt_country=e,style:{border:"1px solid #2FA7FF",borderRadius:"3px"},onChange:e=>{const t=this.state.new_destination;t.country=e.currentTarget.value,this.setState({new_destination:t})}}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"State/Province"),h.a.createElement("input",{ref:e=>this.txt_province=e,name:"state_province",type:"text",onChange:e=>{const t=this.state.new_destination;t.state_province=e.currentTarget.value,this.setState({new_destination:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}})),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"City"),h.a.createElement("input",{name:"city",type:"text",ref:e=>this.txt_request=e,style:{border:"1px solid #2FA7FF",borderRadius:"3px"},onChange:e=>{const t=this.state.new_destination;t.city=e.currentTarget.value,this.setState({new_destination:t})}}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Town"),h.a.createElement("input",{ref:e=>this.txt_town=e,name:"town",type:"text",onChange:e=>{const t=this.state.new_destination;t.town=e.currentTarget.value,this.setState({new_destination:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}})),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Street"),h.a.createElement("input",{ref:e=>this.txt_street=e,name:"street",type:"text",onChange:e=>{const t=this.state.new_destination;t.street=e.currentTarget.value,this.setState({new_destination:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Unit Number"),h.a.createElement("input",{ref:e=>this.txt_unit_number=e,name:"unit_number",type:"text",onChange:e=>{const t=this.state.new_destination;t.unit_number=e.currentTarget.value,this.setState({new_destination:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}})),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Zip Code"),h.a.createElement("input",{ref:e=>this.txt_zip_code=e,name:"zip_code",type:"text",onChange:e=>{const t=this.state.new_destination;t.zip_code=e.currentTarget.value,this.setState({new_destination:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Rating"),h.a.createElement("input",{ref:e=>this.txt_rating=e,name:"rating",type:"number",onChange:e=>{const t=this.state.new_destination;t.rating=e.currentTarget.value,this.setState({new_destination:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}})),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"GPS coordinates"),h.a.createElement("input",{ref:e=>this.txt_gps_coords=e,name:"zip_code",type:"text",onChange:e=>{const t=this.state.new_destination;t.gps_coords=e.currentTarget.value,this.setState({new_destination:t})},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Cost Per Night (Adults)"),h.a.createElement("input",{ref:e=>this.txt_cost_per_night_adults=e,name:"cost_per_night_adults",type:"text",onChange:e=>{if(0<=+e.currentTarget.value){const t=this.state.new_destination;t.cost_per_night_adults=e.currentTarget.value,this.setState({new_destination:t})}else this.props.dispatch(f.b("danger","Invalid cost."))},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}})),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Cost Per Night (Chidlren)"),h.a.createElement("input",{ref:e=>this.txt_cost_per_night_children=e,name:"cost_per_night_children",type:"text",onChange:e=>{if(0<=+e.currentTarget.value){const t=this.state.new_destination;t.cost_per_night_children=e.currentTarget.value,this.setState({new_destination:t})}else this.props.dispatch(f.b("danger","Invalid cost."))},style:{border:"1px solid #2FA7FF",borderRadius:"3px"}}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-lg-12"},h.a.createElement("label",{className:"itemLabel"},"Summary"),h.a.createElement("textarea",{name:"accommodation_description",onChange:e=>{const t=this.state.new_destination;t.description=e.currentTarget.value,this.setState({new_destination:t})},style:{width:"580px",border:"1px solid #2FA7FF",borderRadius:"3px"}}))),h.a.createElement(z.a,{onClick:this.closeModal,style:{width:"120px",height:"50px",float:"right"},danger:!0},"Dismiss"),h.a.createElement(z.a,{onClick:()=>{if(Y.b().access_level<=Qe[1].level)return this.props.dispatch(f.b("danger","You are not authorised to create accommodation destinations."));this.props.setLoading(!0),this.setState({is_new_destinaton_modal_open:!1});const e=this.state.new_destination;if(!e.name)return this.props.setLoading(!1),this.setState({is_new_destinaton_modal_open:!0}),this.props.dispatch(f.b("danger","Invalid destination name."));if(!e.country)return this.props.setLoading(!1),this.setState({is_new_destinaton_modal_open:!0}),this.props.dispatch(f.b("danger","Invalid country."));if(!e.state_province)return this.props.setLoading(!1),this.setState({is_new_destinaton_modal_open:!0}),this.props.dispatch(f.b("danger","Invalid state/province."));if(!e.city)return this.props.setLoading(!1),this.setState({is_new_destinaton_modal_open:!0}),this.props.dispatch(f.b("danger","Invalid city."));if(!e.street)return this.props.setLoading(!1),this.setState({is_new_destinaton_modal_open:!0}),this.props.dispatch(f.b("danger","Invalid street name."));if(!e.unit_number)return this.props.setLoading(!1),this.setState({is_new_destinaton_modal_open:!0}),this.props.dispatch(f.b("danger","Invalid unit number."));if(!e.zip_code)return this.props.setLoading(!1),this.setState({is_new_destinaton_modal_open:!0}),this.props.dispatch(f.b("danger","Invalid zip code."));if(!e.rating||0>e.rating)return this.props.setLoading(!1),this.setState({is_new_destinaton_modal_open:!0}),this.props.dispatch(f.b("danger","Invalid rating."));if(!e.cost_per_night_adults||0>e.cost_per_night_adults)return this.props.setLoading(!1),this.setState({is_new_destinaton_modal_open:!0}),this.props.dispatch(f.b("danger","Invalid cost per night for adults."));if(!e.cost_per_night_children||0>e.cost_per_night_children)return this.props.setLoading(!1),this.setState({is_new_destinaton_modal_open:!0}),this.props.dispatch(f.b("danger","Invalid cost per night for children."));if(!e.description)return this.props.setLoading(!1),this.setState({is_new_destinaton_modal_open:!0}),this.props.dispatch(f.b("danger","Please say a few words about this place."));e.creator_name=Y.b().name,e.creator=Y.b().usr,e.creator_user=Y.b(),e.date_logged=(new Date).getTime(),e.logged_date=Je(new Date);const t=this;this.props.dispatch({type:v.j,payload:e,callback:(e,n)=>n?(console.log(n),t.props.dispatch(f.b("danger",n.message))):(t.props.setLoading(!1),t.props.dispatch({type:v.i}),void t.setState({new_destination:t.newDestination(),is_new_destinaton_modal_open:!1}))})},style:{width:"120px",height:"50px",float:"left"},success:!0},"Create")));return h.a.createElement(de,null,h.a.createElement(pe,null,h.a.createElement(ue,null,"Bookings | Accommodation"),h.a.createElement(he,null,h.a.createElement("div",{style:{display:"inline",float:"right",marginTop:"-30px",paddingRight:"100px",borderBottom:"2px",borderColor:"black"}},h.a.createElement(z.a,{primary:!0,onClick:()=>this.props.changeTab("home")},"Home"),h.a.createElement(z.a,{success:!0,onClick:()=>this.setState({is_new_destinaton_modal_open:!0})},"New Accommodation Destination")))),h.a.createElement(me,null,e,h.a.createElement(Ut,{setLoading:this.props.setLoading})))}}Bt.propTypes={dispatch:g.a.func.isRequired,changeTab:g.a.func.isRequired,setLoading:g.a.func.isRequired,users:g.a.arrayOf(g.a.object).isRequired,materials:g.a.arrayOf(g.a.object).isRequired,clients:g.a.arrayOf(g.a.object).isRequired};var Mt=Object(R.compose)(Object(b.connect)(e=>({users:Object(He.b)(e),clients:Object(Ke.b)(e),materials:Object(Ye.b)(e)})),ge)(Bt),Pt=n(45),zt=n(19);const Vt=T.a.p`
  margin: -15px 0 20px 0;
  font-size: 80%;
  color: grey;
`;class Gt extends u.Component{constructor(e){super(e),this.state=this.props.profile,this.handleLogoChange=this.handleLogoChange.bind(this),this.handleInputChange=this.handleInputChange.bind(this)}handleInputChange(e){const t=e.target.name,n=e.target.value;this.setState({[t]:n},()=>{this.props.updateSettings("profile",this.state)})}handleLogoChange(e){this.setState({logo:e},()=>{this.updateProfileState()})}updateProfileState(){this.props.updateSettings("profile",this.state)}render(){return h.a.createElement("div",null,h.a.createElement("div",{className:"pageItem"},h.a.createElement("label",{className:"itemLabel"},"Logo Name"),h.a.createElement(Vt,null,"Logo Hint"),h.a.createElement(vt,{logo:this.state.logo,handleLogoChange:this.handleLogoChange})),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Company Name"),h.a.createElement("input",{name:"company",type:"text",value:this.state.company,onChange:this.handleInputChange}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Address"),h.a.createElement("input",{name:"address",type:"text",value:this.state.address,onChange:this.handleInputChange})),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"eMail"),h.a.createElement("input",{name:"email",type:"text",value:this.state.email,onChange:this.handleInputChange}))),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Phone"),h.a.createElement("input",{name:"phone",type:"text",value:this.state.phone,onChange:this.handleInputChange})),h.a.createElement("div",{className:"pageItem col-md-6"},h.a.createElement("label",{className:"itemLabel"},"Website"),h.a.createElement("input",{name:"website",type:"text",value:this.state.website,onChange:this.handleInputChange}))))}}Gt.propTypes={profile:g.a.object.isRequired,updateSettings:g.a.func.isRequired};var Wt=ge(Gt);n(50);const $t=T.a.div`
  display: flex;
`;c.propTypes={dateFormat:g.a.string.isRequired,exportDir:g.a.string.isRequired,template:g.a.string.isRequired,handleInputChange:g.a.func.isRequired,selectExportDir:g.a.func.isRequired};const Ht=n(7).ipcRenderer,Yt=n(28);class Kt extends u.Component{constructor(e){super(e),this.handleInputChange=this.handleInputChange.bind(this),this.handleCurrencyChange=this.handleCurrencyChange.bind(this)}componentWillMount(){this.setState(this.props.general)}componentDidMount(){Ht.on("no-access-directory",(e,t)=>{Yt({type:"warning",title:"No Access",message:`${t}. You are not allowed to view the contents of this directory/file.`})}),Ht.on("confirmed-export-directory",(e,t)=>{this.setState({exportDir:t},()=>{this.props.updateSettings("invoice",this.state)})})}handleInputChange(e){const t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;this.setState({[a]:n},()=>{this.props.updateSettings("general",this.state)})}handleCurrencyChange(e){const t=e.target,n=t.name,a="fraction"===n?parseInt(t.value,10):t.value;this.setState({currency:Object.assign({},this.state.currency,{[n]:a})},()=>{this.props.updateSettings("invoice",this.state)})}selectExportDir(){Ht.send("select-export-directory")}render(){const{exportDir:e,template:t,currency:n,dateFormat:a}=this.state;return h.a.createElement("div",null,h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-md-6"},h.a.createElement("div",{className:"pageItem"},h.a.createElement("label",{className:"itemLabel"},"Sound"),h.a.createElement("select",{name:"sound",value:this.state.sound,onChange:this.handleInputChange},h.a.createElement("option",{value:"default"},"Default"),h.a.createElement("option",{value:"cs"},"Counter Strike"))))),h.a.createElement("div",{className:"row"}),h.a.createElement("div",{className:"row"},h.a.createElement(c,{key:"other_settings",dateFormat:a,exportDir:e,template:t,handleInputChange:this.handleInputChange,selectExportDir:this.selectExportDir})))}}Kt.propTypes={general:g.a.object.isRequired,updateSettings:g.a.func.isRequired};var Jt=ge(Kt);class Qt extends u.Component{constructor(e){super(e),this.state={visibleTab:1,canSave:!0},this.saveSettingsState=this.saveSettingsState.bind(this),this.setSavable=this.setSavable.bind(this)}settingsSaved(){const{currentSettings:e,savedSettings:t}=this.props;return Object(w.isEqual)(e,t)}saveSettingsState(){const{currentSettings:e,boundActionCreators:t}=this.props;t.saveSettings(e)}changeTab(e){this.setState({visibleTab:e})}setSavable(e){this.setState({canSave:e})}renderSettingsContent(){const{updateSettings:e}=this.props.boundActionCreators,{profile:t,general:n,invoice:a}=this.props.currentSettings;return h.a.createElement(de,null,h.a.createElement(pe,null,h.a.createElement(ue,null,"Settings Header"),!this.settingsSaved()&&this.state.canSave&&h.a.createElement(he,null,h.a.createElement(z.a,{success:!0,onClick:()=>this.saveSettingsState()},"Save"))),h.a.createElement(me,null,h.a.createElement(Nt,null,h.a.createElement(Ot,{href:"#",className:1===this.state.visibleTab?"active":"",onClick:()=>this.changeTab(1)},"Company Profile"),h.a.createElement(Ot,{href:"#",className:2===this.state.visibleTab?"active":"",onClick:()=>this.changeTab(2)},"General Settings")),h.a.createElement(At,null,1===this.state.visibleTab&&h.a.createElement(Wt,{profile:t,updateSettings:e,setSavable:this.setSavable}),2===this.state.visibleTab&&h.a.createElement(Jt,{general:n,updateSettings:e,setSavable:this.setSavable}))))}render(){return this.props.currentSettings?this.renderSettingsContent():null}}Qt.propTypes={boundActionCreators:g.a.shape({getInitalSettings:g.a.func.isRequired,updateSettings:g.a.func.isRequired,saveSettings:g.a.func.isRequired}).isRequired,currentSettings:g.a.object.isRequired,savedSettings:g.a.object.isRequired};var Xt=Object(R.compose)(Object(b.connect)(e=>({currentSettings:Object(Pt.b)(e),savedSettings:Object(Pt.c)(e)}),e=>({boundActionCreators:Object(zt.bindActionCreators)(p,e)})),ge)(Qt);class Zt extends u.Component{shouldComponentUpdate(e){return this.props.activeTab!==e.activeTab}render(){const{activeTab:e,changeTab:t}=this.props;return h.a.createElement(ce,null,"signup"===e&&h.a.createElement(ye,{changeTab:this.props.changeTab,setLoading:this.props.setLoading}),"login"===e&&h.a.createElement(fe,{changeTab:this.props.changeTab,setLoading:this.props.setLoading}),"home"===e&&h.a.createElement($e,{changeTab:this.props.changeTab,setLoading:this.props.setLoading}),"trip-bookings"===e&&h.a.createElement(jt,{changeTab:this.props.changeTab,setLoading:this.props.setLoading}),"accommodation-bookings"===e&&h.a.createElement(Mt,{changeTab:this.props.changeTab,setLoading:this.props.setLoading}),"settings"===e&&h.a.createElement(Xt,{setLoading:this.props.setLoading}))}}Zt.propTypes={activeTab:g.a.string.isRequired,changeTab:g.a.func.isRequired};const en=T.a.div`
  background: #fff;
  height: 70px;
  padding: 20px 40px;
  border-radius: 4px;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-top: 4px solid #469fe5;
  display: flex;
  align-items: center;
  justify-content: space-between;
  ${e=>"warning"===e.type&&"border-top: 4px solid #F9D548;"} ${e=>"success"===e.type&&"border-top: 4px solid #6BBB69;"} ${e=>"danger"===e.type&&"border-top: 4px solid #EC476E;"};
`,tn=T.a.p`
  color: #2c323a;
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 1px;
  font-size: 12px;
`;class nn extends u.Component{constructor(e){super(e),this.removeNotification=this.removeNotification.bind(this)}componentDidMount(){this.timeout=setTimeout(this.removeNotification,4e3)}shouldComponentUpdate(e){return this.props.notification!==e.notification}componentWillUnmount(){clearTimeout(this.timeout)}removeNotification(){const{removeNotification:e,notification:t}=this.props;e(t.id)}render(){const{notification:e}=this.props;return h.a.createElement(en,{type:e.type,onClick:this.removeNotification},h.a.createElement(tn,null,e.message),h.a.createElement("a",{href:"#",onClick:this.removeNotification},h.a.createElement("i",{className:"ion-android-close"})))}}nn.propTypes={notification:g.a.object.isRequired,removeNotification:g.a.func.isRequired};var an=nn;class rn extends u.Component{constructor(e){super(e),this.getDefaultStyles=this.getDefaultStyles.bind(this),this.getStyles=this.getStyles.bind(this),this.willEnter=this.willEnter.bind(this),this.willLeave=this.willLeave.bind(this)}getDefaultStyles(){const{children:e,componentHeight:t}=this.props;return e.map(e=>({key:e.key,data:{child:e},style:{height:t,opacity:0}}))}getStyles(){const{children:e,componentHeight:t}=this.props;return e.map(e=>({key:e.key,data:{child:e},style:{height:Object(k.spring)(t),opacity:Object(k.spring)(1)}}))}willEnter(){return{height:0,opacity:0}}willLeave(){return{height:Object(k.spring)(0),opacity:Object(k.spring)(0)}}render(){return h.a.createElement(k.TransitionMotion,{willEnter:this.willEnter,willLeave:this.willLeave,styles:this.getStyles(),defaultStyles:this.getDefaultStyles()},e=>h.a.createElement("div",null,e.map(({key:e,style:t,data:n})=>h.a.createElement("div",{key:e,style:t},n.child))))}}rn.propTypes={children:g.a.arrayOf(g.a.element).isRequired,componentHeight:g.a.number.isRequired};var on=rn;const sn=T.a.div`
  position: fixed;
  height: auto;
  bottom: 0;
  width: 100%;
  padding-left: 120px;
  padding-right: 40px;
  z-index: 10000;
`;d.propTypes={notifications:g.a.array.isRequired,removeNotification:g.a.func.isRequired};const ln=n(7).ipcRenderer;class cn extends u.PureComponent{constructor(e){super(e),this.changeTab=this.changeTab.bind(this),this.removeNotification=this.removeNotification.bind(this),this.setLoading=this.setLoading.bind(this),this.state={is_loading:!1}}setLoading(e){this.setState({is_loading:e})}componentDidMount(){const{dispatch:e}=this.props;e(_()),this.changeTab("login"),ln.on("menu-change-tab",(e,t)=>this.changeTab(t)),ln.on("save-configs-to-invoice",()=>{})}componentWillUnmount(){ln.removeAllListeners(["menu-change-tab","menu-form-save","menu-form-clear","menu-form-add-item","menu-form-toggle-dueDate","menu-form-toggle-currency","menu-form-toggle-discount","menu-form-toggle-vat","menu-form-toggle-note","menu-form-toggle-settings","save-configs-to-invoice"])}changeTab(e){const{dispatch:t}=this.props;t(f.a(e))}removeNotification(e){const{dispatch:t}=this.props;t(f.c(e))}render(){const{activeTab:e,notifications:t,checkUpdatesMessage:n}=this.props.ui;return h.a.createElement(le,null,h.a.createElement("div",{style:{position:"fixed",visibility:this.state.is_loading?"visible":"hidden",top:"0px",left:"0px",width:"100%",height:"100%",background:"rgba(0,0,0,.5)",zIndex:"100"}},h.a.createElement("div",{style:{width:"100px",height:"100px",margin:"27% auto 0px auto",background:"url(../static/images/loading.gif)",backgroundSize:"contain",zIndex:"10000"}})),"home"!==e&&"login"!==e&&"signup"!==e?h.a.createElement(a,{activeTab:e,changeTab:this.changeTab}):h.a.createElement("div",null),h.a.createElement(d,{notifications:t,removeNotification:this.removeNotification}),h.a.createElement(Zt,{activeTab:e,changeTab:this.changeTab,setLoading:this.setLoading}))}}cn.propTypes={dispatch:g.a.func.isRequired,ui:g.a.shape({activeTab:g.a.string.isRequired,notifications:g.a.array.isRequired}).isRequired},t.a=Object(b.connect)(e=>({ui:e.ui}))(cn)},,,function(e){e.exports=require("axios")},,,,,function(e){e.exports=require("is-svg")},function(e){e.exports=require("jimp")},function(e,t,n){(e.exports=n(61)(!1)).push([e.i,".nav-profile\n{\n    float: 'left';\n    width: '100%';\n    height: '100%';\n    background-color: 'red';\n}\n\n.slider-container\n{\n    margin-top: 120px;\n    width: 100%;\n    height: 70vh;\n}\n\n@media (max-height: 768px)\n{\n    .slider-container\n    {\n        height: 500px;\n    }\n}",""])},function(e,t,n){var a=n(76);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0};r.transform=void 0,r.insertInto=void 0,n(60)(a,r),a.locals&&(e.exports=a.locals)},function(e){e.exports=require("electron-settings")},function(e){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,a=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:a+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,n){(e.exports=n(61)(!1)).push([e.i,"html, body, .app, .main {\n  height: 100%;\n  width: 100%;\n  margin: 0;\n  padding: 0; }\n\n.slider {\n  position: relative;\n  width: 100%;\n  margin: 200 auto;\n  height: 100%;\n  overflow: hidden;\n  white-space: nowrap; }\n  .slider .slider-wrapper {\n    position: relative;\n    height: 100%;\n    width: 100%; }\n    .slider .slider-wrapper .slide {\n      display: inline-block;\n      height: 100%;\n      width: 100%; }\n  .slider .settings-icon {\n    cursor: pointer;\n    position: absolute;\n    top: 15px;\n    right: 15px;\n    z-index: 99999999999999;\n    background: white;\n    border-radius: 50%;\n    padding: 5px; }\n    .slider .settings-icon path, .slider .settings-icon polygon {\n      fill: black; }\n  .slider .settings {\n    background: rgba(0, 0, 0, 0.75);\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    z-index: 999999999;\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-align: center;\n        align-items: center;\n    -ms-flex-pack: center;\n        justify-content: center; }\n    .slider .settings .menu {\n      width: 600px;\n      height: 350px;\n      background: white; }\n      @media (max-width: 650px) {\n        .slider .settings .menu {\n          width: 300px; } }\n\n.right-arrow, .left-arrow {\n  height: 50px;\n  width: 50px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  border-radius: 50%;\n  cursor: pointer;\n  transition: transform ease-in .1s;\n  z-index: 0; }\n  .right-arrow:hover, .left-arrow:hover {\n    border: 2px solid #ff7400;\n    transition: transform ease-in .1s;\n    transform: scale(1.1); }\n\n.cool-buttons {\n  background: rgba(0, 0, 0, 0.8);\n  border: 2px solid #fff; }\n\n.right-arrow {\n  position: absolute;\n  top: 50%;\n  right: 25px;\n  z-index: 999;\n  color: #fff; }\n  .right-arrow img {\n    transform: translate(2px, 0); }\n    .right-arrow img:focus {\n      outline: 0; }\n\n.left-arrow {\n  position: absolute;\n  top: 50%;\n  left: 25px;\n  z-index: 999;\n  color: #fff; }\n  .left-arrow img {\n    transform: translate(-2px, 0); }\n    .left-arrow img:focus {\n      outline: 0; }\n\n.dots-container {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  text-align: center;\n  z-index: 9999;\n  padding: 5px 0; }\n  .dots-container .dot {\n    background: #222;\n    display: inline-block;\n    padding: 10px;\n    margin-right: 5px;\n    cursor: pointer;\n    border-radius: 50%; }\n  .dots-container .active {\n    background: #fff; }\n",""])},function(e,t,n){var a=n(80);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0};r.transform=void 0,r.insertInto=void 0,n(60)(a,r),a.locals&&(e.exports=a.locals)},function(e){e.exports=require("mkdirp")},function(e,t,n){"use strict";n.r(t),function(e){var t=n(0),a=n.n(t),r=n(21),o=n.n(r),i=n(29),s=(n.n(i),n(11)),l=(n.n(s),n(64)),c=n(66),d=n(43);const p=Object(l.a)();o.a.render(a.a.createElement(s.Provider,{store:p},a.a.createElement(i.AppContainer,null,a.a.createElement(d.a,null,a.a.createElement(c.a,null)))),document.getElementById("root")),e.hot&&e.hot.accept()}.call(this,n(42)(e))},function(e,t,n){const{Menu:a,BrowserWindow:r}=n(7).remote,o=n(7).remote.require("electron-settings"),i=n(7).ipcRenderer,s=n(56),l=o.get("mainWindowID"),c=r.fromId(l),d={label:"My App",submenu:[{role:"about"},{type:"separator"},{label:"Check For Updates",accelerator:"CmdOrCtrl+U",click(){i.send("check-for-updates")}},{type:"separator"},{role:"services",submenu:[]},{type:"separator"},{role:"hide"},{role:"hideothers"},{role:"unhide"},{type:"separator"},{label:"Quit App",accelerator:"CmdOrCtrl+Q",click(){i.send("quit-app")}}]},p={label:"Invoice",submenu:[{label:"New",accelerator:"CmdOrCtrl+N",click(){c.webContents.send("menu-change-tab","form")}},{label:"Save",accelerator:"CmdOrCtrl+S",click(){c.webContents.send("menu-form-save")}},{label:"Reset",accelerator:"CmdOrCtrl+R",click(){c.webContents.send("menu-form-clear")}},{type:"separator"},{label:"Add Item",accelerator:"CmdOrCtrl+I",click(){c.webContents.send("menu-form-add-item")}},{type:"separator"},{label:"Toggle",submenu:[{label:"Toggle Form Settings",accelerator:"Alt+S",click(){c.webContents.send("menu-form-toggle-settings")}},{label:"Toggle Due Date",accelerator:"Alt+T",click(){c.webContents.send("menu-form-toggle-dueDate")}},{label:"Toggle Currency",accelerator:"Alt+C",click(){c.webContents.send("menu-form-toggle-currency")}},{label:"Toggle VAT",accelerator:"Alt+V",click(){c.webContents.send("menu-form-toggle-vat")}},{label:"Toggle Discount",accelerator:"Alt+D",click(){c.webContents.send("menu-form-toggle-discount")}},{label:"Toggle Note",accelerator:"Alt+N",click(){c.webContents.send("menu-form-toggle-note")}}]}]},u={label:"Go",submenu:[{label:"Invoices",accelerator:"CmdOrCtrl+Shift+A",click(){c.webContents.send("menu-change-tab","invoices")}},{label:"Contacts",accelerator:"CmdOrCtrl+Shift+D",click(){c.webContents.send("menu-change-tab","contacts")}},{label:"Settings",accelerator:"CmdOrCtrl+Shift+S",click(){c.webContents.send("menu-change-tab","settings")}}]},h={role:"help",submenu:[{label:"Show Tutorial",accelerator:"CmdOrCtrl+T",click(){i.send("start-tour")}},{label:"Learn More",click(){n(7).shell.openExternal("https://manta.life")}}]};"darwin"!==process.platform&&(p.submenu.push({type:"separator"},{label:"Quit App",accelerator:"CmdOrCtrl+Q",click(){i.send("quit-app")}}),h.submenu.unshift({label:"Check For Updates",accelerator:"CmdOrCtrl+U",click(){i.send("check-for-updates")}}));const m=[p,u,{label:"Edit",submenu:[{role:"undo"},{role:"redo"},{type:"separator"},{role:"cut"},{role:"copy"},{role:"paste"},{role:"pasteandmatchstyle"},{role:"deconste"},{role:"selectall"}]},{role:"window",submenu:[{role:"minimize"},{role:"close"}]},h];"darwin"===process.platform&&m.unshift(d),s&&m.splice(3,0,{label:"View",submenu:[{role:"forcereload"},{role:"toggledevtools"},{type:"separator"},{role:"togglefullscreen"}]});const g=a.buildFromTemplate(m);a.setApplicationMenu(g)},function(e,t,n){"use strict";n.r(t);var a=n(20),r=n.n(a);n(30),r.a.preload(),r.a.play("STARTUP")},function(e,t,n){n(31),n(85),n(28),n(84),e.exports=n(83)}]);